this.createjs=this.createjs||{};createjs.extend=function(c,b){function a(){this.constructor=c}return a.prototype=b.prototype,c.prototype=new a};this.createjs=this.createjs||{};createjs.promote=function(c,b){var a=c.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(b+="_")+"constructor"]=g.constructor;for(var l in g)a.hasOwnProperty(l)&&"function"==typeof g[l]&&(a[b+l]=g[l])}return c};this.createjs=this.createjs||{};
createjs.indexOf=function(c,b){for(var a=0,g=c.length;g>a;a++)if(b===c[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function c(a,g,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!g;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var b=c.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
    !0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.set=function(a){for(var g in a)this[g]=a[g];return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){function c(){this._captureListeners=this._listeners=null}var b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b.addEventListener=function(a,g,c){var b;b=c?this._captureListeners=this._captureListeners||{}:this._listeners=
    this._listeners||{};var d=b[a];return d&&this.removeEventListener(a,g,c),d=b[a],d?d.push(g):b[a]=[g],g};b.on=function(a,g,c,b,d,f){return g.handleEvent&&(c=c||g,g=g.handleEvent),c=c||this,this.addEventListener(a,function(a){g.call(c,a,d);b&&a.remove()},f)};b.removeEventListener=function(a,g,c){if(c=c?this._captureListeners:this._listeners){var b=c[a];if(b)for(var d=0,f=b.length;f>d;d++)if(b[d]==g){1==f?delete c[a]:b.splice(d,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?
    (this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,g,c){if("string"==typeof a){var b=this._listeners;if(!(g||b&&b[a]))return!0;a=new createjs.Event(a,g,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(d){}if(a.bubbles&&this.parent){c=this;for(g=[c];c.parent;)g.push(c=c.parent);b=g.length;for(c=b-1;0<=c&&!a.propagationStopped;c--)g[c]._dispatchEvent(a,1+(0==c));
    for(c=1;b>c&&!a.propagationStopped;c++)g[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};b.hasEventListener=function(a){var g=this._listeners,c=this._captureListeners;return!!(g&&g[a]||c&&c[a])};b.willTrigger=function(a){for(var g=this;g;){if(g.hasEventListener(a))return!0;g=g.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,g){var c,b=1==g?this._captureListeners:this._listeners;if(a&&b&&(b=b[a.type])&&(c=b.length)){try{a.currentTarget=
    this}catch(h){}try{a.eventPhase=g}catch(h){}a.removed=!1;for(var b=b.slice(),d=0;c>d&&!a.immediatePropagationStopped;d++){var f=b[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==g),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){function c(){throw"Ticker cannot be instantiated.";}c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=0;c.paused=!1;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){return!c._inited&&c.init(),c._addEventListener.apply(c,arguments)};c._inited=!1;c._startTime=0;c._pausedTime=
    0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=!0;c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};try{Object.defineProperties(c,{interval:{get:c.getInterval,set:c.setInterval},framerate:{get:c.getFPS,set:c.setFPS}})}catch(a){console.log(a)}c.init=function(){c._inited||(c._inited=!0,
    c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.interval=c._interval)};c.reset=function(){if(c._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(c._timerId)}else clearTimeout(c._timerId);c.removeAllEventListeners("tick");c._timerId=c._times=c._tickTimes=null;c._startTime=c._lastTime=c._ticks=0;c._inited=!1};c.getMeasuredTickTime=function(a){var g=
    0,b=c._tickTimes;if(!b||1>b.length)return-1;a=Math.min(b.length,a||0|c.getFPS());for(var e=0;a>e;e++)g+=b[e];return g/a};c.getMeasuredFPS=function(a){var g=c._times;return!g||2>g.length?-1:(a=Math.min(g.length-1,a||0|c.getFPS()),1E3/((g[0]-g[a])/a))};c.setPaused=function(a){c.paused=a};c.getPaused=function(){return c.paused};c.getTime=function(a){return c._startTime?c._getTime()-(a?c._pausedTime:0):-1};c.getEventTime=function(a){return c._startTime?(c._lastTime||c._startTime)-(a?c._pausedTime:0):
    -1};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleSynch=function(){c._timerId=null;c._setupTick();c._getTime()-c._lastTime>=.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(null==c._timerId){var a=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(a==c.RAF_SYNCHED||a==c.RAF){var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
    window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(g)return c._timerId=g(a==c.RAF?c._handleRAF:c._handleSynch),void(c._raf=!0)}c._raf=!1;c._timerId=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c.paused,g=c._getTime(),b=g-c._lastTime;if(c._lastTime=g,c._ticks++,a&&(c._pausedTicks++,c._pausedTime+=b),c.hasEventListener("tick")){var e=new createjs.Event("tick"),d=c.maxDelta;e.delta=d&&b>d?d:b;e.paused=a;e.time=g;e.runTime=g-c._pausedTime;
    c.dispatchEvent(e)}for(c._tickTimes.unshift(c._getTime()-g);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(g);100<c._times.length;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return(b&&b.call(performance)||(new Date).getTime())-c._startTime};createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){function c(){throw"UID cannot be instantiated";}c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){function c(a,g,c,b,d,f,h,k,m,n,p){this.Event_constructor(a,g,c);this.stageX=b;this.stageY=d;this.rawX=null==m?b:m;this.rawY=null==n?d:n;this.nativeEvent=f;this.pointerID=h;this.primary=!!k;this.relatedTarget=p}var b=createjs.extend(c,createjs.Event);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};b._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(b,
    {localX:{get:b._get_localX},localY:{get:b._get_localY},isTouch:{get:b._get_isTouch}})}catch(a){}b.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(c,"Event")})();this.createjs=this.createjs||{};
(function(){function c(a,g,c,b,d,f){this.setValues(a,g,c,b,d,f)}var b=c.prototype;c.DEG_TO_RAD=Math.PI/180;c.identity=null;b.setValues=function(a,g,c,b,d,f){return this.a=null==a?1:a,this.b=g||0,this.c=c||0,this.d=null==b?1:b,this.tx=d||0,this.ty=f||0,this};b.append=function(a,g,c,b,d,f){var h=this.a,k=this.b,m=this.c,n=this.d;return(1!=a||0!=g||0!=c||1!=b)&&(this.a=h*a+m*g,this.b=k*a+n*g,this.c=h*c+m*b,this.d=k*c+n*b),this.tx=h*d+m*f+this.tx,this.ty=k*d+n*f+this.ty,this};b.prepend=function(a,g,c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                b,d,f){var h=this.a,k=this.c,m=this.tx;return this.a=a*h+c*this.b,this.b=g*h+b*this.b,this.c=a*k+c*this.d,this.d=g*k+b*this.d,this.tx=a*m+c*this.ty+d,this.ty=g*m+b*this.ty+f,this};b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)};b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)};b.appendTransform=function(a,g,b,e,d,f,h,k,m){if(d%360){var n=d*c.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return f||h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),
    Math.sin(h),-Math.sin(f),Math.cos(f),a,g),this.append(d*b,n*b,-n*e,d*e,0,0)):this.append(d*b,n*b,-n*e,d*e,a,g),(k||m)&&(this.tx-=k*this.a+m*this.c,this.ty-=k*this.b+m*this.d),this};b.prependTransform=function(a,g,b,e,d,f,h,k,m){if(d%360){var n=d*c.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return(k||m)&&(this.tx-=k,this.ty-=m),f||h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(d*b,n*b,-n*e,d*e,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),a,g)):this.prepend(d*b,n*b,-n*
    e,d*e,a,g),this};b.rotate=function(a){a*=c.DEG_TO_RAD;var g=Math.cos(a);a=Math.sin(a);var b=this.a,e=this.b;return this.a=b*g+this.c*a,this.b=e*g+this.d*a,this.c=-b*a+this.c*g,this.d=-e*a+this.d*g,this};b.skew=function(a,g){return a*=c.DEG_TO_RAD,g*=c.DEG_TO_RAD,this.append(Math.cos(g),Math.sin(g),-Math.sin(a),Math.cos(a),0,0),this};b.scale=function(a,g){return this.a*=a,this.b*=a,this.c*=g,this.d*=g,this};b.translate=function(a,g){return this.tx+=this.a*a+this.c*g,this.ty+=this.b*a+this.d*g,this};
    b.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};b.invert=function(){var a=this.a,g=this.b,c=this.c,b=this.d,d=this.tx,f=a*b-g*c;return this.a=b/f,this.b=-g/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-b*d)/f,this.ty=-(a*this.ty-g*d)/f,this};b.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};b.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d};b.transformPoint=
        function(a,g,c){return c=c||{},c.x=a*this.a+g*this.c+this.tx,c.y=a*this.b+g*this.d+this.ty,c};b.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d),b=Math.atan2(this.b,this.a);return 1E-5>Math.abs(1-g/b)?(a.rotation=b/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=g/c.DEG_TO_RAD,a.skewY=b/c.DEG_TO_RAD),a};b.copy=
        function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)};b.clone=function(){return new c(this.a,this.b,this.c,this.d,this.tx,this.ty)};b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};
(function(){function c(a,g,c,b,d){this.setValues(a,g,c,b,d)}var b=c.prototype;b.setValues=function(a,g,c,b,d){return this.visible=null==a?!0:!!a,this.alpha=null==g?1:g,this.shadow=c,this.compositeOperation=c,this.matrix=d||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};b.append=function(a,g,c,b,d){return this.alpha*=g,this.shadow=c||this.shadow,this.compositeOperation=b||this.compositeOperation,this.visible=this.visible&&a,d&&this.matrix.appendMatrix(d),this};b.prepend=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     g,c,b,d){return this.alpha*=g,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||b,this.visible=this.visible&&a,d&&this.matrix.prependMatrix(d),this};b.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};b.clone=function(){return new c(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=c})();this.createjs=this.createjs||{};
(function(){function c(a,g){this.setValues(a,g)}var b=c.prototype;b.setValues=function(a,g){return this.x=a||0,this.y=g||0,this};b.copy=function(a){return this.x=a.x,this.y=a.y,this};b.clone=function(){return new c(this.x,this.y)};b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};
(function(){function c(a,g,c,b){this.setValues(a,g,c,b)}var b=c.prototype;b.setValues=function(a,g,c,b){return this.x=a||0,this.y=g||0,this.width=c||0,this.height=b||0,this};b.extend=function(a,g,c,b){return c=c||0,b=b||0,a+c>this.x+this.width&&(this.width=a+c-this.x),g+b>this.y+this.height&&(this.height=g+b-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),g<this.y&&(this.height+=this.y-g,this.y=g),this};b.pad=function(a,g,c,b){return this.x-=g,this.y-=a,this.width+=g+b,this.height+=a+c,this};b.copy=
    function(a){return this.setValues(a.x,a.y,a.width,a.height)};b.contains=function(a,g,c,b){return c=c||0,b=b||0,a>=this.x&&a+c<=this.x+this.width&&g>=this.y&&g+b<=this.y+this.height};b.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)};b.intersection=function(a){var g=a.x,b=a.y,e=g+a.width;a=b+a.height;return this.x>g&&(g=this.x),this.y>b&&(b=this.y),this.x+this.width<e&&(e=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),g>=e||b>=a?null:new c(g,b,e-g,a-b)};b.intersects=
    function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height};b.isEmpty=function(){return 0>=this.width||0>=this.height};b.clone=function(){return new c(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();this.createjs=this.createjs||{};
(function(){function c(a,g,c,b,d,f,h){a.addEventListener&&(this.target=a,this.overLabel=null==c?"over":c,this.outLabel=null==g?"out":g,this.downLabel=null==b?"down":b,this.play=d,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(h&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(h)),a.hitArea=f))}var b=c.prototype;b.setEnabled=function(a){if(a!=this._enabled){var g=this.target;(this._enabled=a)?(g.cursor="pointer",g.addEventListener("rollover",
    this),g.addEventListener("rollout",this),g.addEventListener("mousedown",this),g.addEventListener("pressup",this),g._reset&&(g.__reset=g._reset,g._reset=this._reset)):(g.cursor=null,g.removeEventListener("rollover",this),g.removeEventListener("rollout",this),g.removeEventListener("mousedown",this),g.removeEventListener("pressup",this),g.__reset&&(g._reset=g.__reset,delete g.__reset))}};b.getEnabled=function(){return this._enabled};try{Object.defineProperties(b,{enabled:{get:b.getEnabled,set:b.setEnabled}})}catch(a){}b.toString=
    function(){return"[ButtonHelper]"};b.handleEvent=function(a){var g,c=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,g=this.downLabel):"pressup"==a?(this._isPressed=!1,g=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,g=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,g=this._isPressed?this.overLabel:this.outLabel);this.play?c.gotoAndPlay&&c.gotoAndPlay(g):c.gotoAndStop&&c.gotoAndStop(g)};b._reset=function(){var a=this.paused;this.__reset();this.paused=
    a};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};(function(){function c(a,g,c,b){this.color=a||"black";this.offsetX=g||0;this.offsetY=c||0;this.blur=b||0}var b=c.prototype;c.identity=new c("transparent",0,0,0);b.toString=function(){return"[Shadow]"};b.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){function c(a){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(a)}var b=createjs.extend(c,createjs.EventDispatcher);b.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(b,{animations:{get:b.getAnimations}})}catch(a){}b.getNumFrames=function(a){if(null==
    a)return this._frames?this._frames.length:this._numFrames||0;a=this._data[a];return null==a?0:a.frames.length};b.getAnimation=function(a){return this._data[a]};b.getFrame=function(a){var g;return this._frames&&(g=this._frames[a])?g:null};b.getFrameBounds=function(a,g){var c=this.getFrame(a);return c?(g||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null};b.toString=function(){return"[SpriteSheet]"};b.clone=function(){throw"SpriteSheet cannot be cloned.";};b._parseData=
    function(a){var g,c,b;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(c=a.images.length))for(b=this._images=[],g=0;c>g;g++){var d=a.images[g];if("string"==typeof d){var f=d,d=document.createElement("img");d.src=f}b.push(d);d.getContext||d.naturalWidth||(this._loadCount++,this.complete=!1,function(a){d.onload=function(){a._handleImageLoad()}}(this))}if(null!=a.frames)if(a.frames instanceof Array)for(this._frames=[],b=a.frames,g=0,c=b.length;c>g;g++)f=b[g],this._frames.push({image:this._images[f[4]?
        f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0});else c=a.frames,this._frameWidth=c.width,this._frameHeight=c.height,this._regX=c.regX||0,this._regY=c.regY||0,this._spacing=c.spacing||0,this._margin=c.margin||0,this._numFrames=c.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(c=a.animations)){this._data={};for(var h in c){a={name:h};f=c[h];if("number"==typeof f)b=a.frames=[f];else if(f instanceof Array)if(1==f.length)a.frames=[f[0]];
    else for(a.speed=f[3],a.next=f[2],b=a.frames=[],g=f[0];g<=f[1];g++)b.push(g);else a.speed=f.speed,a.next=f.next,g=f.frames,b=a.frames="number"==typeof g?[g]:g.slice(0);!0!==a.next&&void 0!==a.next||(a.next=h);(!1===a.next||2>b.length&&a.next==h)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(h);this._data[h]=a}}}};b._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};b._calculateFrames=function(){if(!this._frames&&
    0!=this._frameWidth){this._frames=[];var a=this._numFrames||1E5,g=0,c=this._frameWidth,b=this._frameHeight,d=this._spacing,f=this._margin,h=0,k=this._images;a:for(;h<k.length;h++)for(var m=k[h],n=m.width,p=m.height,r=f;p-f-b>=r;){for(var q=f;n-f-c>=q;){if(g>=a)break a;g++;this._frames.push({image:m,rect:new createjs.Rectangle(q,r,c,b),regX:this._regX,regY:this._regY});q+=c+d}r+=b+d}this._numFrames=g}};createjs.SpriteSheet=createjs.promote(c,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function c(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var b=c.prototype;c.getRGB=function(a,c,b,d){return null!=a&&null==b&&(d=c,b=255&a,c=a>>8&255,a=a>>16&255),null==d?"rgb("+a+","+c+","+b+")":"rgba("+a+","+c+","+b+","+d+")"};c.getHSL=function(a,c,b,d){return null==
d?"hsl("+a%360+","+c+"%,"+b+"%)":"hsla("+a%360+","+c+"%,"+b+"%,"+d+")"};c.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};c.STROKE_CAPS_MAP=["butt","round","square"];c.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?
    createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._ctx=a.getContext("2d"),a.width=a.height=1);b.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(b,{instructions:{get:b.getInstructions}})}catch(g){}b.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};b.draw=function(a,c){this._updateInstructions();for(var b=this._instructions,d=this._storeIndex,f=b.length;f>d;d++)b[d].exec(a,c)};
    b.drawAsPath=function(a){this._updateInstructions();for(var c,b=this._instructions,d=this._storeIndex,f=b.length;f>d;d++)!1!==(c=b[d]).path&&c.exec(a)};b.moveTo=function(a,b){return this.append(new c.MoveTo(a,b),!0)};b.lineTo=function(a,b){return this.append(new c.LineTo(a,b))};b.arcTo=function(a,b,e,d,f){return this.append(new c.ArcTo(a,b,e,d,f))};b.arc=function(a,b,e,d,f,h){return this.append(new c.Arc(a,b,e,d,f,h))};b.quadraticCurveTo=function(a,b,e,d){return this.append(new c.QuadraticCurveTo(a,
        b,e,d))};b.bezierCurveTo=function(a,b,e,d,f,h){return this.append(new c.BezierCurveTo(a,b,e,d,f,h))};b.rect=function(a,b,e,d){return this.append(new c.Rect(a,b,e,d))};b.closePath=function(){return this._activeInstructions.length?this.append(new c.ClosePath):this};b.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=
        !1,this};b.beginFill=function(a){return this._setFill(a?new c.Fill(a):null)};b.beginLinearGradientFill=function(a,b,e,d,f,h){return this._setFill((new c.Fill).linearGradient(a,b,e,d,f,h))};b.beginRadialGradientFill=function(a,b,e,d,f,h,k,m){return this._setFill((new c.Fill).radialGradient(a,b,e,d,f,h,k,m))};b.beginBitmapFill=function(a,b,e){return this._setFill((new c.Fill(null,e)).bitmap(a,b))};b.endFill=function(){return this.beginFill()};b.setStrokeStyle=function(a,b,e,d,f){return this._updateInstructions(!0),
        this._strokeStyle=this.command=new c.StrokeStyle(a,b,e,d,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};b.setStrokeDash=function(a,b){return this._updateInstructions(!0),this._strokeDash=this.command=new c.StrokeDash(a,b),this};b.beginStroke=function(a){return this._setStroke(a?new c.Stroke(a):null)};b.beginLinearGradientStroke=function(a,b,e,d,f,h){return this._setStroke((new c.Stroke).linearGradient(a,b,e,d,f,h))};b.beginRadialGradientStroke=function(a,b,e,d,f,h,k,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                m){return this._setStroke((new c.Stroke).radialGradient(a,b,e,d,f,h,k,m))};b.beginBitmapStroke=function(a,b){return this._setStroke((new c.Stroke).bitmap(a,b))};b.endStroke=function(){return this.beginStroke()};b.curveTo=b.quadraticCurveTo;b.drawRect=b.rect;b.drawRoundRect=function(a,c,b,d,f){return this.drawRoundRectComplex(a,c,b,d,f,f,f,f)};b.drawRoundRectComplex=function(a,b,e,d,f,h,k,m){return this.append(new c.RoundRect(a,b,e,d,f,h,k,m))};b.drawCircle=function(a,b,e){return this.append(new c.Circle(a,
        b,e))};b.drawEllipse=function(a,b,e,d){return this.append(new c.Ellipse(a,b,e,d))};b.drawPolyStar=function(a,b,e,d,f,h){return this.append(new c.PolyStar(a,b,e,d,f,h))};b.append=function(a,c){return this._activeInstructions.push(a),this.command=a,c||(this._dirty=!0),this};b.decodePath=function(a){for(var b=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],d=0,f=a.length,h=[],k=0,m=0,n=c.BASE_64;f>d;){var p=a.charAt(d),r=n[p],q=r>>3,t=b[q];if(!t||3&r)throw"bad path data (@"+
    d+"): "+p;p=e[q];q||(k=m=0);h.length=0;d++;r=(r>>2&1)+2;for(q=0;p>q;q++){var v=n[a.charAt(d)],x=v>>5?-1:1,v=(31&v)<<6|n[a.charAt(d+1)];3==r&&(v=v<<6|n[a.charAt(d+2)]);v=x*v/10;q%2?k=v+=k:m=v+=m;h[q]=v;d+=r}t.apply(this,h)}return this};b.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};b.unstore=function(){return this._storeIndex=0,this};b.clone=function(){var a=new c;return a.command=this.command,a._stroke=this._stroke,a._strokeStyle=this._strokeStyle,
        a._strokeDash=this._strokeDash,a._strokeIgnoreScale=this._strokeIgnoreScale,a._fill=this._fill,a._instructions=this._instructions.slice(),a._commitIndex=this._commitIndex,a._activeInstructions=this._activeInstructions.slice(),a._dirty=this._dirty,a._storeIndex=this._storeIndex,a};b.toString=function(){return"[Graphics]"};b.mt=b.moveTo;b.lt=b.lineTo;b.at=b.arcTo;b.bt=b.bezierCurveTo;b.qt=b.quadraticCurveTo;b.a=b.arc;b.r=b.rect;b.cp=b.closePath;b.c=b.clear;b.f=b.beginFill;b.lf=b.beginLinearGradientFill;
    b.rf=b.beginRadialGradientFill;b.bf=b.beginBitmapFill;b.ef=b.endFill;b.ss=b.setStrokeStyle;b.sd=b.setStrokeDash;b.s=b.beginStroke;b.ls=b.beginLinearGradientStroke;b.rs=b.beginRadialGradientStroke;b.bs=b.beginBitmapStroke;b.es=b.endStroke;b.dr=b.drawRect;b.rr=b.drawRoundRect;b.rc=b.drawRoundRectComplex;b.dc=b.drawCircle;b.de=b.drawEllipse;b.dp=b.drawPolyStar;b.p=b.decodePath;b._updateInstructions=function(a){var b=this._instructions,e=this._activeInstructions,d=this._commitIndex;if(this._dirty&&e.length){b.length=
        d;b.push(c.beginCmd);var d=e.length,f=b.length;b.length=f+d;for(var h=0;d>h;h++)b[h+f]=e[h];this._fill&&b.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,b.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,b.push(this._strokeStyle)),b.push(this._stroke));this._dirty=!1}a&&(e.length=0,this._commitIndex=b.length)};b._setFill=function(a){return this._updateInstructions(!0),this.command=
        this._fill=a,this};b._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this};(c.LineTo=function(a,c){this.x=a;this.y=c}).prototype.exec=function(a){a.lineTo(this.x,this.y)};(c.MoveTo=function(a,c){this.x=a;this.y=c}).prototype.exec=function(a){a.moveTo(this.x,this.y)};(c.ArcTo=function(a,c,b,d,f){this.x1=a;this.y1=c;this.x2=b;this.y2=d;this.radius=f}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,
        this.radius)};(c.Arc=function(a,c,b,d,f,h){this.x=a;this.y=c;this.radius=b;this.startAngle=d;this.endAngle=f;this.anticlockwise=!!h}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(c.QuadraticCurveTo=function(a,c,b,d){this.cpx=a;this.cpy=c;this.x=b;this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(c.BezierCurveTo=function(a,c,b,d,f,h){this.cp1x=a;this.cp1y=c;this.cp2x=b;this.cp2y=d;this.x=f;this.y=
        h}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(c.Rect=function(a,c,b,d){this.x=a;this.y=c;this.w=b;this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)};(c.ClosePath=function(){}).prototype.exec=function(a){a.closePath()};(c.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()};b=(c.Fill=function(a,c){this.style=a;this.matrix=c}).prototype;b.exec=function(a){if(this.style){a.fillStyle=this.style;var c=this.matrix;
        c&&(a.save(),a.transform(c.a,c.b,c.c,c.d,c.tx,c.ty));a.fill();c&&a.restore()}};b.linearGradient=function(a,b,e,d,f,h){for(var k=this.style=c._ctx.createLinearGradient(e,d,f,h),m=0,n=a.length;n>m;m++)k.addColorStop(b[m],a[m]);return k.props={colors:a,ratios:b,x0:e,y0:d,x1:f,y1:h,type:"linear"},this};b.radialGradient=function(a,b,e,d,f,h,k,m){for(var n=this.style=c._ctx.createRadialGradient(e,d,f,h,k,m),p=0,r=a.length;r>p;p++)n.addColorStop(b[p],a[p]);return n.props={colors:a,ratios:b,x0:e,y0:d,r0:f,
        x1:h,y1:k,r1:m,type:"radial"},this};b.bitmap=function(a,b){if(a.naturalWidth||a.getContext||2<=a.readyState)(this.style=c._ctx.createPattern(a,b||"")).props={image:a,repetition:b,type:"bitmap"};return this};b.path=!1;b=(c.Stroke=function(a,c){this.style=a;this.ignoreScale=c}).prototype;b.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())};b.linearGradient=c.Fill.prototype.linearGradient;b.radialGradient=
        c.Fill.prototype.radialGradient;b.bitmap=c.Fill.prototype.bitmap;b.path=!1;b=(c.StrokeStyle=function(a,c,b,d){this.width=a;this.caps=c;this.joints=b;this.miterLimit=d}).prototype;b.exec=function(a){a.lineWidth=null==this.width?"1":this.width;a.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:c.STROKE_CAPS_MAP[this.caps];a.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:c.STROKE_JOINTS_MAP[this.joints];a.miterLimit=null==this.miterLimit?"10":this.miterLimit};b.path=!1;(c.StrokeDash=
        function(a,c){this.segments=a;this.offset=c||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||c.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)};c.StrokeDash.EMPTY_SEGMENTS=[];(c.RoundRect=function(a,c,b,d,f,h,k,m){this.x=a;this.y=c;this.w=b;this.h=d;this.radiusTL=f;this.radiusTR=h;this.radiusBR=k;this.radiusBL=m}).prototype.exec=function(a){var c=(p>n?n:p)/2,b=0,d=0,f=0,h=0,k=this.x,m=this.y,n=this.w,p=this.h,r=this.radiusTL,q=this.radiusTR,t=this.radiusBR,
        v=this.radiusBL;0>r&&(r*=b=-1);r>c&&(r=c);0>q&&(q*=d=-1);q>c&&(q=c);0>t&&(t*=f=-1);t>c&&(t=c);0>v&&(v*=h=-1);v>c&&(v=c);a.moveTo(k+n-q,m);a.arcTo(k+n+q*d,m-q*d,k+n,m+q,q);a.lineTo(k+n,m+p-t);a.arcTo(k+n+t*f,m+p+t*f,k+n-t,m+p,t);a.lineTo(k+v,m+p);a.arcTo(k-v*h,m+p+v*h,k,m+p-v,v);a.lineTo(k,m+r);a.arcTo(k-r*b,m-r*b,k+r,m,r);a.closePath()};(c.Circle=function(a,c,b){this.x=a;this.y=c;this.radius=b}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,0,2*Math.PI)};(c.Ellipse=function(a,c,b,d){this.x=
        a;this.y=c;this.w=b;this.h=d}).prototype.exec=function(a){var c=this.x,b=this.y,d=this.w,f=this.h,h=d/2*.5522848,k=f/2*.5522848,m=c+d,n=b+f,d=c+d/2,f=b+f/2;a.moveTo(c,f);a.bezierCurveTo(c,f-k,d-h,b,d,b);a.bezierCurveTo(d+h,b,m,f-k,m,f);a.bezierCurveTo(m,f+k,d+h,n,d,n);a.bezierCurveTo(d-h,n,c,f+k,c,f)};(c.PolyStar=function(a,c,b,d,f,h){this.x=a;this.y=c;this.radius=b;this.sides=d;this.pointSize=f;this.angle=h}).prototype.exec=function(a){var c=this.x,b=this.y,d=this.radius,f=(this.angle||0)/180*Math.PI,
        h=this.sides,k=1-(this.pointSize||0),m=Math.PI/h;a.moveTo(c+Math.cos(f)*d,b+Math.sin(f)*d);for(var n=0;h>n;n++)f+=m,1!=k&&a.lineTo(c+Math.cos(f)*d*k,b+Math.sin(f)*d*k),f+=m,a.lineTo(c+Math.cos(f)*d,b+Math.sin(f)*d);a.closePath()};c.beginCmd=new c.BeginPath;createjs.Graphics=c})();this.createjs=this.createjs||{};
(function(){function c(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this.rotation=this.regY=this.regX=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.shadow=null;this.visible=!0;this.y=this.x=0;this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this.cursor=this.hitArea=this.mask=this.filters=null;this._filterOffsetY=this._filterOffsetX=this._cacheOffsetY=
    this._cacheOffsetX=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var b=createjs.extend(c,createjs.EventDispatcher);c._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");c.suppressCrossDomainErrors=!1;c._snapToPixelEnabled=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._hitTestCanvas=
    a,c._hitTestContext=a.getContext("2d"),a.width=a.height=1);c._nextCacheID=1;b.getStage=function(){for(var a=this,c=createjs.Stage;a.parent;)a=a.parent;return a instanceof c?a:null};try{Object.defineProperties(b,{stage:{get:b.getStage}})}catch(g){}b.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};b.draw=function(a,c){var b=this.cacheCanvas;if(c||!b)return!1;var d=this._cacheScale;return a.drawImage(b,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+
    this._filterOffsetY,b.width/d,b.height/d),!0};b.updateContext=function(a){var b=this.mask,e=this._props.matrix;b&&b.graphics&&!b.graphics.isEmpty()&&(b.getMatrix(e),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),b.graphics.drawAsPath(a),a.clip(),e.invert(),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty));this.getMatrix(e);var b=e.tx,d=e.ty;c._snapToPixelEnabled&&this.snapToPixel&&(b=b+(0>b?-.5:.5)|0,d=d+(0>d?-.5:.5)|0);a.transform(e.a,e.b,e.c,e.d,b,d);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=
    this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};b.cache=function(a,c,b,d,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=b;this._cacheHeight=d;this._cacheOffsetX=a;this._cacheOffsetY=c;this._cacheScale=f;this.updateCache()};b.updateCache=function(a){var b=this.cacheCanvas;if(!b)throw"cache() must be called before updateCache()";var e=this._cacheScale,d=this._cacheOffsetX*e,f=this._cacheOffsetY*
    e,h=this._cacheWidth,k=this._cacheHeight,m=b.getContext("2d"),n=this._getFilterBounds(),d=d+(this._filterOffsetX=n.x),f=f+(this._filterOffsetY=n.y),h=Math.ceil(h*e)+n.width,k=Math.ceil(k*e)+n.height;h!=b.width||k!=b.height?(b.width=h,b.height=k):a||m.clearRect(0,0,h+1,k+1);m.save();m.globalCompositeOperation=a;m.setTransform(e,0,0,e,-d,-f);this.draw(m,!0);this._applyFilters();m.restore();this.cacheID=c._nextCacheID++};b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
    this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};b.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};b.localToGlobal=function(a,c,b){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,c,b||new createjs.Point)};b.globalToLocal=function(a,c,b){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,c,b||new createjs.Point)};
    b.localToLocal=function(a,c,b,d){return d=this.localToGlobal(a,c,d),b.globalToLocal(d.x,d.y,d)};b.setTransform=function(a,c,b,d,f,h,k,m,n){return this.x=a||0,this.y=c||0,this.scaleX=null==b?1:b,this.scaleY=null==d?1:d,this.rotation=f||0,this.skewX=h||0,this.skewY=k||0,this.regX=m||0,this.regY=n||0,this};b.getMatrix=function(a){a=a&&a.identity()||new createjs.Matrix2D;return this.transformMatrix?a.copy(this.transformMatrix):a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,
        this.skewY,this.regX,this.regY)};b.getConcatenatedMatrix=function(a){var c=this;for(a=this.getMatrix(a);c=c.parent;)a.prependMatrix(c.getMatrix(c._props.matrix));return a};b.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var c=this,b=c.getMatrix(a.matrix);do a.prepend(c.visible,c.alpha,c.shadow,c.compositeOperation),c!=this&&b.prependMatrix(c.getMatrix(c._props.matrix));while(c=c.parent);return a};b.hitTest=function(a,b){var e=c._hitTestContext;e.setTransform(1,
        0,0,1,-a,-b);this.draw(e);var d=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),d};b.set=function(a){for(var c in a)this[c]=a[c];return this};b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var c=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/c,a.height/c)}return null};b.getTransformedBounds=function(){return this._getBounds()};b.setBounds=function(a,c,b,d){null==
    a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,c,b,d)};b.clone=function(){return this._cloneProps(new c)};b.toString=function(){return"[DisplayObject (name="+this.name+")]"};b._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,
        a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a};b._applyShadow=function(a,c){c=c||Shadow.identity;a.shadowColor=c.color;a.shadowOffsetX=c.offsetX;a.shadowOffsetY=c.offsetY;a.shadowBlur=c.blur};b._tick=function(a){var c=this._listeners;c&&c.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=
        !1,this.dispatchEvent(a))};b._testHit=function(a){try{var b=1<a.getImageData(0,0,1,1).data[3]}catch(e){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return b};b._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,c=this.cacheCanvas.getContext("2d"),b=this.cacheCanvas.width,d=this.cacheCanvas.height,f=0;a>f;f++)this.filters[f].applyFilter(c,
        0,0,b,d)};b._getFilterBounds=function(){var a,c=this.filters,b=this._rectangle.setValues(0,0,0,0);if(!c||!(a=c.length))return b;for(c=0;a>c;c++){var d=this.filters[c];d.getBounds&&d.getBounds(b)}return b};b._getBounds=function(a,c){return this._transformBounds(this.getBounds(),a,c)};b._transformBounds=function(a,c,b){if(!a)return a;var d=a.x,f=a.y,h=a.width,k=a.height,m=this._props.matrix,m=b?m.identity():this.getMatrix(m);(d||f)&&m.appendTransform(0,0,1,1,0,0,0,-d,-f);c&&m.prependMatrix(c);c=h*m.a;
        h*=m.b;b=k*m.c;var k=k*m.d,n=m.tx,m=m.ty,p=n,r=n,q=m,t=m;return(d=c+n)<p?p=d:d>r&&(r=d),(d=c+b+n)<p?p=d:d>r&&(r=d),(d=b+n)<p?p=d:d>r&&(r=d),(f=h+m)<q?q=f:f>t&&(t=f),(f=h+k+m)<q?q=f:f>t&&(t=f),(f=k+m)<q?q=f:f>t&&(t=f),a.setValues(p,q,r-p,t-q)};b._hasMouseEventListener=function(){for(var a=c._MOUSE_EVENTS,b=0,e=a.length;e>b;b++)if(this.hasEventListener(a[b]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(c,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function c(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var b=createjs.extend(c,createjs.DisplayObject);b.getNumChildren=function(){return this.children.length};try{Object.defineProperties(b,{numChildren:{get:b.getNumChildren}})}catch(a){}b.initialize=c;b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.draw=function(a,c){if(this.DisplayObject_draw(a,
        c))return!0;for(var b=this.children.slice(),e=0,d=b.length;d>e;e++){var f=b[e];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0};b.addChild=function(a){if(null==a)return a;var c=arguments.length;if(1<c){for(var b=0;c>b;b++)this.addChild(arguments[b]);return arguments[c-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a};b.addChildAt=function(a,c){var b=arguments.length,e=arguments[b-1];if(0>e||e>this.children.length)return arguments[b-
2];if(2<b){for(var d=0;b-1>d;d++)this.addChildAt(arguments[d],e+d);return arguments[b-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(c,0,a),a.dispatchEvent("added"),a};b.removeChild=function(a){var c=arguments.length;if(1<c){for(var b=!0,e=0;c>e;e++)b=b&&this.removeChild(arguments[e]);return b}return this.removeChildAt(createjs.indexOf(this.children,a))};b.removeChildAt=function(a){var c=arguments.length;if(1<c){for(var b=[],e=0;c>e;e++)b[e]=arguments[e];b.sort(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c){return c-a});for(var d=!0,e=0;c>e;e++)d=d&&this.removeChildAt(b[e]);return d}if(0>a||a>this.children.length-1)return!1;c=this.children[a];return c&&(c.parent=null),this.children.splice(a,1),c.dispatchEvent("removed"),!0};b.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)};b.getChildAt=function(a){return this.children[a]};b.getChildByName=function(a){for(var c=this.children,b=0,e=c.length;e>b;b++)if(c[b].name==a)return c[b];return null};b.sortChildren=function(a){this.children.sort(a)};
    b.getChildIndex=function(a){return createjs.indexOf(this.children,a)};b.swapChildrenAt=function(a,c){var b=this.children,e=b[a],d=b[c];e&&d&&(b[a]=d,b[c]=e)};b.swapChildren=function(a,c){for(var b,e,d=this.children,f=0,h=d.length;h>f&&(d[f]==a&&(b=f),d[f]==c&&(e=f),null==b||null==e);f++);f!=h&&(d[b]=c,d[e]=a)};b.setChildIndex=function(a,c){var b=this.children,e=b.length;if(!(a.parent!=this||0>c||c>=e)){for(var d=0;e>d&&b[d]!=a;d++);d!=e&&d!=c&&(b.splice(d,1),b.splice(c,0,a))}};b.contains=function(a){for(;a;){if(a==
        this)return!0;a=a.parent}return!1};b.hitTest=function(a,c){return null!=this.getObjectUnderPoint(a,c)};b.getObjectsUnderPoint=function(a,c,b){var e=[];a=this.localToGlobal(a,c);return this._getObjectsUnderPoint(a.x,a.y,e,0<b,1==b),e};b.getObjectUnderPoint=function(a,c,b){a=this.localToGlobal(a,c);return this._getObjectsUnderPoint(a.x,a.y,null,0<b,1==b)};b.getBounds=function(){return this._getBounds(null,!0)};b.getTransformedBounds=function(){return this._getBounds()};b.clone=function(a){var b=this._cloneProps(new c);
        return a&&this._cloneChildren(b),b};b.toString=function(){return"[Container (name="+this.name+")]"};b._tick=function(a){if(this.tickChildren)for(var c=this.children.length-1;0<=c;c--){var b=this.children[c];b.tickEnabled&&b._tick&&b._tick(a)}this.DisplayObject__tick(a)};b._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var c=a.children,b=0,e=this.children.length;e>b;b++){var d=this.children[b].clone(!0);d.parent=a;c.push(d)}};b._getObjectsUnderPoint=function(a,b,l,e,d,f){if(f=
            f||0,!f&&!this._testMask(this,a,b))return null;var h,k=createjs.DisplayObject._hitTestContext;d=d||e&&this._hasMouseEventListener();for(var m=this.children,n=m.length-1;0<=n;n--){var p=m[n],r=p.hitArea;if(p.visible&&(r||p.isVisible())&&(!e||p.mouseEnabled)&&(r||this._testMask(p,a,b)))if(!r&&p instanceof c){if(p=p._getObjectsUnderPoint(a,b,l,e,d,f+1),!l&&p)return e&&!this.mouseChildren?this:p}else if(!e||d||p._hasMouseEventListener()){var q=p.getConcatenatedDisplayProps(p._props);if(h=q.matrix,r&&
        (h.appendMatrix(r.getMatrix(r._props.matrix)),q.alpha=r.alpha),k.globalAlpha=q.alpha,k.setTransform(h.a,h.b,h.c,h.d,h.tx-a,h.ty-b),(r||p).draw(k),this._testHit(k)){if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),!l)return e&&!this.mouseChildren?this:p;l.push(p)}}}return null};b._testMask=function(a,c,b){var e=a.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var d=this._props.matrix,d=(a=a.parent)?a.getConcatenatedMatrix(d):d.identity(),d=e.getMatrix(e._props.matrix).prependMatrix(d);a=
        createjs.DisplayObject._hitTestContext;return a.setTransform(d.a,d.b,d.c,d.d,d.tx-c,d.ty-b),e.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1};b._getBounds=function(a,c){var b=this.DisplayObject_getBounds();if(b)return this._transformBounds(b,a,c);var e=this._props.matrix,e=c?e.identity():this.getMatrix(e);a&&e.prependMatrix(a);for(var d=this.children.length,f=null,h=0;d>h;h++){var k=this.children[h];k.visible&&(b=k._getBounds(e))&&
    (f?f.extend(b.x,b.y,b.width,b.height):f=b.clone())}return f};createjs.Container=createjs.promote(c,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function c(a){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof a?document.getElementById(a):a;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var b=createjs.extend(c,createjs.Container);b._get_nextStage=
    function(){return this._nextStage};b._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null);a&&(a._prevStage=this);this._nextStage=a};try{Object.defineProperties(b,{nextStage:{get:b._get_nextStage,set:b._set_nextStage}})}catch(a){}b.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;a=this.drawRect;var c=this.canvas.getContext("2d");c.setTransform(1,
    0,0,1,0,0);this.autoClear&&(a?c.clearRect(a.x,a.y,a.width,a.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));c.save();this.drawRect&&(c.beginPath(),c.rect(a.x,a.y,a.width,a.height),c.clip());this.updateContext(c);this.draw(c,!1);c.restore();this.dispatchEvent("drawend")}};b.tick=function(a){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var c=new createjs.Event("tick");if(a)for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);this._tick(c);this.dispatchEvent("tickend")}};
    b.handleEvent=function(a){"tick"==a.type&&this.update(a)};b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};b.toDataURL=function(a,c){var b,e=this.canvas.getContext("2d"),d=this.canvas.width,f=this.canvas.height;if(a){b=e.getImageData(0,0,d,f);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over";e.fillStyle=a;e.fillRect(0,0,d,f)}d=this.canvas.toDataURL(c||"image/png");
        return a&&(e.putImageData(b,0,0),e.globalCompositeOperation=h),d};b.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var c=this;this._mouseOverIntervalID=setInterval(function(){c._testMouseOver()},1E3/Math.min(50,a))};b.enableDOMEvents=function(a){null==a&&(a=!0);var c,b=this._eventListeners;if(!a&&b){for(c in b)a=b[c],a.t.removeEventListener(c,a.f,!1);
        this._eventListeners=null}else if(a&&!b&&this.canvas){a=window.addEventListener?window:document;var e=this,b=this._eventListeners={};b.mouseup={t:a,f:function(a){e._handleMouseUp(a)}};b.mousemove={t:a,f:function(a){e._handleMouseMove(a)}};b.dblclick={t:this.canvas,f:function(a){e._handleDoubleClick(a)}};b.mousedown={t:this.canvas,f:function(a){e._handleMouseDown(a)}};for(c in b)a=b[c],a.t.addEventListener(c,a.f,!1)}};b.clone=function(){throw"Stage cannot be cloned.";};b.toString=function(){return"[Stage (name="+
        this.name+")]"};b._getElementRect=function(a){var c;try{c=a.getBoundingClientRect()}catch(b){c={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var l=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),d=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle;a=parseInt(d.paddingLeft)+parseInt(d.borderLeftWidth);var f=parseInt(d.paddingTop)+
        parseInt(d.borderTopWidth),h=parseInt(d.paddingRight)+parseInt(d.borderRightWidth),d=parseInt(d.paddingBottom)+parseInt(d.borderBottomWidth);return{left:c.left+l+a,right:c.right+l-h,top:c.top+e+f,bottom:c.bottom+e-d}};b._getPointerData=function(a){var c=this._pointerData[a];return c||(c=this._pointerData[a]={x:0,y:0}),c};b._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};b._handlePointerMove=function(a,c,b,e,d){if((!this._prevStage||void 0!==d)&&this.canvas){d=
        this._nextStage;var f=this._getPointerData(a),h=f.inBounds;this._updatePointerPosition(a,c,b,e);(h||f.inBounds||this.mouseMoveOutside)&&(-1===a&&f.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,a,f,c),this._dispatchMouseEvent(this,"stagemousemove",!1,a,f,c),this._dispatchMouseEvent(f.target,"pressmove",!0,a,f,c));d&&d._handlePointerMove(a,c,b,e,null)}};b._updatePointerPosition=function(a,c,b,e){var d=this._getElementRect(this.canvas);b-=d.left;e-=d.top;var f=this.canvas.width,
        h=this.canvas.height;b/=(d.right-d.left)/f;e/=(d.bottom-d.top)/h;d=this._getPointerData(a);(d.inBounds=0<=b&&0<=e&&f-1>=b&&h-1>=e)?(d.x=b,d.y=e):this.mouseMoveOutside&&(d.x=0>b?0:b>f-1?f-1:b,d.y=0>e?0:e>h-1?h-1:e);d.posEvtObj=c;d.rawX=b;d.rawY=e;(a===this._primaryPointerID||-1===a)&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};b._handlePointerUp=function(a,c,b,e){var d=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||
        void 0!==e){var h=null,k=f.target;e||!k&&!d||(h=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,c,h),f.down=!1);h==k&&this._dispatchMouseEvent(k,"click",!0,a,f,c);this._dispatchMouseEvent(k,"pressup",!0,a,f,c);b?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null;d&&d._handlePointerUp(a,c,b,e||h&&this)}};b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};b._handlePointerDown=
        function(a,c,b,e,d){this.preventSelection&&c.preventDefault();null!=this._primaryPointerID&&-1!==a||(this._primaryPointerID=a);null!=e&&this._updatePointerPosition(a,c,b,e);var f=null,h=this._nextStage,k=this._getPointerData(a);d||(f=k.target=this._getObjectsUnderPoint(k.x,k.y,null,!0));k.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,k,c,f),k.down=!0);this._dispatchMouseEvent(f,"mousedown",!0,a,k,c);h&&h._handlePointerDown(a,c,b,e,d||f&&this)};b._testMouseOver=function(a,c,b){if(!this._prevStage||
        void 0!==c){var e=this._nextStage;if(!this._mouseOverIntervalID)return void(e&&e._testMouseOver(a,c,b));var d=this._getPointerData(-1);if(d&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,h,k=d.posEvtObj,m=b||k&&k.target==this.canvas,n=null,p=-1;h="";!c&&(a||this.mouseInBounds&&m)&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var r=this._mouseOverTarget||[],q=r[r.length-1],t=
        this._mouseOverTarget=[];for(f=n;f;)t.unshift(f),h||(h=f.cursor),f=f.parent;this.canvas.style.cursor=h;!c&&b&&(b.canvas.style.cursor=h);f=0;for(h=t.length;h>f&&t[f]==r[f];f++)p=f;q!=n&&this._dispatchMouseEvent(q,"mouseout",!0,-1,d,k,n);for(f=r.length-1;f>p;f--)this._dispatchMouseEvent(r[f],"rollout",!1,-1,d,k,n);for(f=t.length-1;f>p;f--)this._dispatchMouseEvent(t[f],"rollover",!1,-1,d,k,q);q!=n&&this._dispatchMouseEvent(n,"mouseover",!0,-1,d,k,q);e&&e._testMouseOver(a,c||n&&this,b||m&&this)}}};b._handleDoubleClick=
        function(a,c){var b=null,e=this._nextStage,d=this._getPointerData(-1);c||(b=this._getObjectsUnderPoint(d.x,d.y,null,!0),this._dispatchMouseEvent(b,"dblclick",!0,-1,d,a));e&&e._handleDoubleClick(a,c||b&&this)};b._dispatchMouseEvent=function(a,c,b,e,d,f,h){a&&(b||a.hasEventListener(c))&&(c=new createjs.MouseEvent(c,b,!1,d.x,d.y,f,e,e===this._primaryPointerID||-1===e,d.rawX,d.rawY,h),a.dispatchEvent(c))};createjs.Stage=createjs.promote(c,"Container")})();this.createjs=this.createjs||{};
(function(){function c(a){this.DisplayObject_constructor();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a;this.sourceRect=null}var b=createjs.extend(c,createjs.DisplayObject);b.initialize=c;b.isVisible=function(){var a=this.image,a=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||2<=a.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.draw=function(a,c){if(this.DisplayObject_draw(a,c)||!this.image)return!0;var b=this.image,
    e=this.sourceRect;if(e){var d=e.x,f=e.y,h=d+e.width,e=f+e.height,k=0,m=0,n=b.width,p=b.height;0>d&&(k-=d,d=0);h>n&&(h=n);0>f&&(m-=f,f=0);e>p&&(e=p);a.drawImage(b,d,f,h-d,e-f,k,m,h-d,e-f)}else a.drawImage(b,0,0);return!0};b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var a=this.image,c=this.sourceRect||a;return a&&(a.naturalWidth||a.getContext||2<=a.readyState)?this._rectangle.setValues(0,0,c.width,c.height):null};b.clone=function(){var a=new c(this.image);return this.sourceRect&&
(a.sourceRect=this.sourceRect.clone()),this._cloneProps(a),a};b.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(c,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function c(a,c){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=a;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;null!=c&&this.gotoAndPlay(c)}var b=createjs.extend(c,createjs.DisplayObject);b.initialize=c;b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.draw=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     c){if(this.DisplayObject_draw(a,c))return!0;this._normalizeFrame();var b=this.spriteSheet.getFrame(0|this._currentFrame);if(!b)return!1;var e=b.rect;return e.width&&e.height&&a.drawImage(b.image,e.x,e.y,e.width,e.height,-b.regX,-b.regY,e.width,e.height),!0};b.play=function(){this.paused=!1};b.stop=function(){this.paused=!0};b.gotoAndPlay=function(a){this.paused=!1;this._skipAdvance=!0;this._goto(a)};b.gotoAndStop=function(a){this.paused=!0;this._goto(a)};b.advance=function(a){var c=this.framerate||
    this.spriteSheet.framerate;this._normalizeFrame(c&&null!=a?a/(1E3/c):1)};b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};b.clone=function(){return this._cloneProps(new c(this.spriteSheet))};b.toString=function(){return"[Sprite (name="+this.name+")]"};b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=
    this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a};b._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1);this.DisplayObject__tick(a)};b._normalizeFrame=function(a){a=a||0;var c,b=this._animation,e=this.paused,d=this._currentFrame;if(b){var f=b.speed||1,h=this.currentAnimationFrame;if(c=b.frames.length,h+a*f>=c){var k=b.next;if(this._dispatchAnimationEnd(b,
        d,e,k,c-1))return;if(k)return this._goto(k,a-(c-h)/f);this.paused=!0;h=b.frames.length-1}else h+=a*f;this.currentAnimationFrame=h;this._currentFrame=b.frames[0|h]}else if(d=this._currentFrame+=a,c=this.spriteSheet.getNumFrames(),d>=c&&0<c&&!this._dispatchAnimationEnd(b,d,e,c-1)&&(this._currentFrame-=c)>=c)return this._normalizeFrame();d=0|this._currentFrame;this.currentFrame!=d&&(this.currentFrame=d,this.dispatchEvent("change"))};b._dispatchAnimationEnd=function(a,c,b,e,d){var f=a?a.name:null;if(this.hasEventListener("animationend")){var h=
    new createjs.Event("animationend");h.name=f;h.next=e;this.dispatchEvent(h)}a=this._animation!=a||this._currentFrame!=c;return a||b||!this.paused||(this.currentAnimationFrame=d,a=!0),a};b._goto=function(a,c){if(this.currentAnimationFrame=0,isNaN(a)){var b=this.spriteSheet.getAnimation(a);b&&(this._animation=b,this.currentAnimation=a,this._normalizeFrame(c))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=createjs.promote(c,"DisplayObject")})();
this.createjs=this.createjs||{};
(function(){function c(a){this.DisplayObject_constructor();this.graphics=a?a:new createjs.Graphics}var b=createjs.extend(c,createjs.DisplayObject);b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.draw=function(a,c){return this.DisplayObject_draw(a,c)?!0:(this.graphics.draw(a,this),!0)};b.clone=function(a){a=a&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new c(a))};
    b.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(c,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function c(a,c,b){this.DisplayObject_constructor();this.text=a;this.font=c;this.color=b;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var b=createjs.extend(c,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingContext=a.getContext("2d"),a.width=a.height=1);c.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-.01,
    middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.draw=function(a,c){if(this.DisplayObject_draw(a,c))return!0;var b=this.color||"#000";return this.outline?(a.strokeStyle=b,a.lineWidth=1*this.outline):a.fillStyle=b,this._drawText(this._prepContext(a)),!0};b.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};b.getMeasuredLineHeight=
    function(){return 1.2*this._getMeasuredWidth("M")};b.getMeasuredHeight=function(){return this._drawText(null,{}).height};b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""===this.text)return null;var a=this._drawText(null,{}),b=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,e=b*c.H_OFFSETS[this.textAlign||"left"],d=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,d,b,a.height)};
    b.getMetrics=function(){var a={lines:[]};return a.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),a.vOffset=a.lineHeight*c.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,a,a.lines)};b.clone=function(){return this._cloneProps(new c(this.text,this.font,this.color))};b.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=
        this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a};b._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};b._drawText=function(a,b,e){var d=!!a;d||(a=c._workingContext,a.save(),this._prepContext(a));for(var f=this.lineHeight||this.getMeasuredLineHeight(),h=0,k=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=m.length;p>n;n++){var r=
        m[n],q=null;if(null!=this.lineWidth&&(q=a.measureText(r).width)>this.lineWidth)for(var t=r.split(/(\s)/),r=t[0],q=a.measureText(r).width,v=1,x=t.length;x>v;v+=2){var B=a.measureText(t[v]+t[v+1]).width;q+B>this.lineWidth?(d&&this._drawTextLine(a,r,k*f),e&&e.push(r),q>h&&(h=q),r=t[v+1],q=a.measureText(r).width,k++):(r+=t[v]+t[v+1],q+=B)}d&&this._drawTextLine(a,r,k*f);e&&e.push(r);b&&null==q&&(q=a.measureText(r).width);q>h&&(h=q);k++}return b&&(b.width=h,b.height=k*f),d||a.restore(),b};b._drawTextLine=
        function(a,c,b){this.outline?a.strokeText(c,0,b,this.maxWidth||65535):a.fillText(c,0,b,this.maxWidth||65535)};b._getMeasuredWidth=function(a){var b=c._workingContext;b.save();a=this._prepContext(b).measureText(a).width;return b.restore(),a};createjs.Text=createjs.promote(c,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function c(a,c){this.Container_constructor();this.text=a||"";this.spriteSheet=c;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var b=createjs.extend(c,createjs.Container);c.maxPoolSize=100;c._spritePool=[];b.draw=function(a,c){this.DisplayObject_draw(a,c)||(this._updateText(),this.Container_draw(a,c))};b.getBounds=function(){return this._updateText(),this.Container_getBounds()};b.isVisible=function(){var a=
    this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&a)};b.clone=function(){return this._cloneProps(new c(this.text,this.spriteSheet))};b.addChild=b.addChildAt=b.removeChild=b.removeChildAt=b.removeAllChildren=function(){};b._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a};b._getFrameIndex=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       c){var b,e=c.getAnimation(a);return e||(a!=(b=a.toUpperCase())||a!=(b=a.toLowerCase())||(b=null),b&&(e=c.getAnimation(b))),e&&e.frames[0]};b._getFrame=function(a,c){var b=this._getFrameIndex(a,c);return null==b?b:c.getFrame(b)};b._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};b._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?
    a.rect.width:1};b._updateText=function(){var a,b=0,l=0,e=this._oldProps,d=!1,f=this.spaceWidth,h=this.lineHeight,k=this.spriteSheet,m=c._spritePool,n=this.children,p=0,r=n.length,q;for(q in e)e[q]!=this[q]&&(e[q]=this[q],d=!0);if(d){(e=!!this._getFrame(" ",k))||f||(f=this._getSpaceWidth(k));h||(h=this._getLineHeight(k));d=0;for(q=this.text.length;q>d;d++){var t=this.text.charAt(d);" "!=t||e?"\n"!=t&&"\r"!=t?(t=this._getFrameIndex(t,k),null!=t&&(r>p?a=n[p]:(n.push(a=m.length?m.pop():new createjs.Sprite),
    a.parent=this,r++),a.spriteSheet=k,a.gotoAndStop(t),a.x=b,a.y=l,p++,b+=a.getBounds().width+this.letterSpacing)):("\r"==t&&"\n"==this.text.charAt(d+1)&&d++,b=0,l+=h):b+=f}for(;r>p;)m.push(a=n.pop()),a.parent=null,r--;m.length>c.maxPoolSize&&(m.length=c.maxPoolSize)}};createjs.BitmapText=createjs.promote(c,"Container")})();this.createjs=this.createjs||{};
(function(){function c(){throw"SpriteSheetUtils cannot be instantiated";}var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._workingCanvas=b,c._workingContext=b.getContext("2d"),b.width=b.height=1);c.addFlippedFrames=function(a,b,l,e){if(b||l||e){var d=0;b&&c._flip(a,++d,!0,!1);l&&c._flip(a,++d,!1,!0);e&&c._flip(a,++d,!0,!0)}};c.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);var l=a.getFrame(b);if(!l)return null;var e=l.rect,
    d=c._workingCanvas;d.width=e.width;d.height=e.height;c._workingContext.drawImage(l.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);l=document.createElement("img");return l.src=d.toDataURL("image/png"),l};c.mergeAlpha=function(a,c,b){b||(b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));b.width=Math.max(c.width,a.width);b.height=Math.max(c.height,a.height);var e=b.getContext("2d");return e.save(),e.drawImage(a,0,0),e.globalCompositeOperation="destination-in",e.drawImage(c,
    0,0),e.restore(),b};c._flip=function(a,b,l,e){for(var d=a._images,f=c._workingCanvas,h=c._workingContext,k=d.length/b,m=0;k>m;m++){var n=d[m];n.__tmp=m;h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,f.width+1,f.height+1);f.width=n.width;f.height=n.height;h.setTransform(l?-1:1,0,0,e?-1:1,l?n.width:0,e?n.height:0);h.drawImage(n,0,0);var p=document.createElement("img");p.src=f.toDataURL("image/png");p.width=n.width;p.height=n.height;d.push(p)}h=a._frames;f=h.length/b;for(m=0;f>m;m++){var n=h[m],r=n.rect.clone(),
    p=d[n.image.__tmp+k*b],q={image:p,rect:r,regX:n.regX,regY:n.regY};l&&(r.x=p.width-r.x-r.width,q.regX=r.width-n.regX);e&&(r.y=p.height-r.y-r.height,q.regY=r.height-n.regY);h.push(q)}l="_"+(l?"h":"")+(e?"v":"");e=a._animations;a=a._data;d=e.length/b;for(m=0;d>m;m++){h=e[m];n=a[h];k={name:h+l,speed:n.speed,next:n.next,frames:[]};n.next&&(k.next+=l);h=n.frames;n=0;for(p=h.length;p>n;n++)k.frames.push(h[n]+f*b);a[k.name]=k;e.push(k.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){function c(){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var b=createjs.extend(c,createjs.EventDispatcher);c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";b.addFrame=function(a,b,l,e,d){if(this._data)throw c.ERR_RUNNING;
    b=b||a.bounds||a.nominalBounds;return!b&&a.getBounds&&(b=a.getBounds()),b?(l=l||1,this._frames.push({source:a,sourceRect:b,scale:l,funct:e,data:d,index:this._frames.length,height:b.height*l})-1):null};b.addAnimation=function(a,b,l,e){if(this._data)throw c.ERR_RUNNING;this._animations[a]={frames:b,next:l,frequency:e}};b.addMovieClip=function(a,b,l,e,d,f){if(this._data)throw c.ERR_RUNNING;var h=a.frameBounds,k=b||a.bounds||a.nominalBounds;if(!k&&a.getBounds&&(k=a.getBounds()),k||h){var m,n;b=this._frames.length;
    var p=a.timeline.duration;for(m=0;p>m;m++)this.addFrame(a,h&&h[m]?h[m]:k,l,this._setupMovieClipFrame,{i:m,f:e,d:d});m=a.timeline._labels;l=[];for(n in m)l.push({index:m[n],label:n});if(l.length)for(l.sort(function(a,c){return a.index-c.index}),m=0,n=l.length;n>m;m++){e=l[m].label;d=b+l[m].index;for(var h=b+(m==n-1?p:l[m+1].index),k=[],r=d;h>r;r++)k.push(r);f&&!(e=f(e,a,d,h))||this.addAnimation(e,k,!0)}}};b.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););
    return this._endBuild(),this.spriteSheet};b.buildAsync=function(a){if(this._data)throw c.ERR_RUNNING;this.timeSlice=a;this._startBuild();var b=this;this._timerID=setTimeout(function(){b._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};b.stopAsync=function(){clearTimeout(this._timerID);this._data=null};b.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};b.toString=function(){return"[SpriteSheetBuilder]"};b._startBuild=function(){var a=this.padding||0;this.progress=0;this.spriteSheet=
    null;this._index=0;this._scale=this.scale;var b=[];this._data={images:[],frames:b,animations:this._animations};var l=this._frames.slice();if(l.sort(function(a,c){return a.height<=c.height?-1:1}),l[l.length-1].height+2*a>this.maxHeight)throw c.ERR_DIMENSIONS;for(var e=0,d=0,f=0;l.length;){var h=this._fillRow(l,e,f,b,a);if(h.w>d&&(d=h.w),e+=h.h,!h.h||!l.length){var k=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");k.width=this._getSize(d,this.maxWidth);k.height=this._getSize(e,
    this.maxHeight);this._data.images[f]=k;h.h||(d=e=0,f++)}}};b._setupMovieClipFrame=function(a,c){var b=a.actionsEnabled;a.actionsEnabled=!1;a.gotoAndStop(c.i);a.actionsEnabled=b;c.f&&c.f(a,c.d,c.i)};b._getSize=function(a,c){for(var b=4;Math.pow(2,++b)<a;);return Math.min(c,Math.pow(2,b))};b._fillRow=function(a,b,l,e,d){var f=this.maxWidth,h=this.maxHeight;b+=d;for(var h=h-b,k=d,m=0,n=a.length-1;0<=n;n--){var p=a[n],r=this._scale*p.scale,q=p.sourceRect,t=p.source,v=Math.floor(r*q.x-d),x=Math.floor(r*
    q.y-d),B=Math.ceil(r*q.height+2*d),q=Math.ceil(r*q.width+2*d);if(q>f)throw c.ERR_DIMENSIONS;B>h||k+q>f||(p.img=l,p.rect=new createjs.Rectangle(k,b,q,B),m=m||B,a.splice(n,1),e[p.index]=[k,b,q,B,l,Math.round(-v+r*t.regX-d),Math.round(-x+r*t.regY-d)],k+=q)}return{w:k,h:m}};b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};b._run=function(){for(var a=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+
    a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,e=a.sourceRect,d=this._data.images[a.img].getContext("2d");return a.funct&&a.funct(a.source,a.data),d.save(),
    d.beginPath(),d.rect(c.x,c.y,c.width,c.height),d.clip(),d.translate(Math.ceil(c.x-e.x*b),Math.ceil(c.y-e.y*b)),d.scale(b,b),a.source.draw(d),d.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(c,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function c(a){this.DisplayObject_constructor();"string"==typeof a&&(a=document.getElementById(a));this.mouseEnabled=!1;var b=a.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%";this.htmlElement=a;this._oldProps=null}var b=createjs.extend(c,createjs.DisplayObject);b.isVisible=function(){return null!=this.htmlElement};b.draw=function(){return!0};b.cache=function(){};b.uncache=function(){};b.updateCache=
    function(){};b.hitTest=function(){};b.localToGlobal=function(){};b.globalToLocal=function(){};b.localToLocal=function(){};b.clone=function(){throw"DOMElement cannot be cloned.";};b.toString=function(){return"[DOMElement (name="+this.name+")]"};b._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(a)};b._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,b=this.getConcatenatedDisplayProps(this._props),c=b.matrix,e=b.visible?
    "visible":"hidden";if(e!=a.visibility&&(a.visibility=e),b.visible){var d=(e=this._oldProps)&&e.matrix;d&&d.equals(c)||(d="matrix("+(1E4*c.a|0)/1E4+","+(1E4*c.b|0)/1E4+","+(1E4*c.c|0)/1E4+","+(1E4*c.d|0)/1E4+","+(c.tx+.5|0),a.transform=a.WebkitTransform=a.OTransform=a.msTransform=d+","+(c.ty+.5|0)+")",a.MozTransform=d+"px,"+(c.ty+.5|0)+"px)",e||(e=this._oldProps=new createjs.DisplayProps(!0,0/0)),e.matrix.copy(c));e.alpha!=b.alpha&&(a.opacity=""+(1E4*b.alpha|0)/1E4,e.alpha=b.alpha)}}};createjs.DOMElement=
    createjs.promote(c,"DisplayObject")})();this.createjs=this.createjs||{};(function(){function c(){}var b=c.prototype;b.getBounds=function(a){return a};b.applyFilter=function(a,b,c,e,d,f,h,k){f=f||a;null==h&&(h=b);null==k&&(k=c);try{var m=a.getImageData(b,c,e,d)}catch(n){return!1}return this._applyFilter(m)?(f.putImageData(m,h,k),!0):!1};b.toString=function(){return"[Filter]"};b.clone=function(){return new c};b._applyFilter=function(){return!0};createjs.Filter=c})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){(isNaN(a)||0>a)&&(a=0);(isNaN(b)||0>b)&&(b=0);(isNaN(c)||1>c)&&(c=1);this.blurX=0|a;this.blurY=0|b;this.quality=0|c}var b=createjs.extend(c,createjs.Filter);c.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,
    413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,
    307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];c.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,
    16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];b.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=
    b&&0>=c)return a;var e=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*e+1,c*e+1,b*e+1,c*e+1)};b.clone=function(){return new c(this.blurX,this.blurY,this.quality)};b.toString=function(){return"[BlurFilter]"};b._applyFilter=function(a){var b=this.blurX>>1;if(isNaN(b)||0>b)return!1;var l=this.blurY>>1;if(isNaN(l)||0>l||0==b&&0==l)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1);e|=0;3<e&&(e=3);1>e&&(e=1);var d=a.data,f=0,h=0,k=0,m=0,n=0,p=0,r=0,q=0,t=0,v=0,x=0,B=0,L=0,I=0,n=0,q=
    b+b+1|0,p=l+l+1|0,w=0|a.width;a=0|a.height;for(var G=w-1|0,A=a-1|0,z=b+1|0,y=l+1|0,J={r:0,b:0,g:0,a:0},f=J,k=1;q>k;k++)f=f.n={r:0,b:0,g:0,a:0};f.n=J;for(var E={r:0,b:0,g:0,a:0},h=E,k=1;p>k;k++)h=h.n={r:0,b:0,g:0,a:0};h.n=E;for(var k=null,H=0|c.MUL_TABLE[b],N=0|c.SHG_TABLE[b],P=0|c.MUL_TABLE[l],K=0|c.SHG_TABLE[l];0<e--;){for(var r=p=0,F=H,D=N,h=a;-1<--h;){q=z*(B=d[0|p]);t=z*(L=d[p+1|0]);v=z*(I=d[p+2|0]);x=z*(n=d[p+3|0]);f=J;for(k=z;-1<--k;)f.r=B,f.g=L,f.b=I,f.a=n,f=f.n;for(k=1;z>k;k++)m=p+((k>G?G:
        k)<<2)|0,q+=f.r=d[m],t+=f.g=d[m+1],v+=f.b=d[m+2],x+=f.a=d[m+3],f=f.n;k=J;for(f=0;w>f;f++)d[p++]=q*F>>>D,d[p++]=t*F>>>D,d[p++]=v*F>>>D,d[p++]=x*F>>>D,m=r+((m=f+b+1)<G?m:G)<<2,q-=k.r-(k.r=d[m]),t-=k.g-(k.g=d[m+1]),v-=k.b-(k.b=d[m+2]),x-=k.a-(k.a=d[m+3]),k=k.n;r+=w}F=P;D=K;for(f=0;w>f;f++){p=f<<2|0;q=y*(B=d[p])|0;t=y*(L=d[p+1|0])|0;v=y*(I=d[p+2|0])|0;x=y*(n=d[p+3|0])|0;h=E;for(k=0;y>k;k++)h.r=B,h.g=L,h.b=I,h.a=n,h=h.n;n=w;for(k=1;l>=k;k++)p=n+f<<2,q+=h.r=d[p],t+=h.g=d[p+1],v+=h.b=d[p+2],x+=h.a=d[p+3],
    h=h.n,A>k&&(n+=w);if(p=f,k=E,0<e)for(h=0;a>h;h++)m=p<<2,d[m+3]=n=x*F>>>D,0<n?(d[m]=q*F>>>D,d[m+1]=t*F>>>D,d[m+2]=v*F>>>D):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+y)<A?m:A)*w<<2,q-=k.r-(k.r=d[m]),t-=k.g-(k.g=d[m+1]),v-=k.b-(k.b=d[m+2]),x-=k.a-(k.a=d[m+3]),k=k.n,p+=w;else for(h=0;a>h;h++)m=p<<2,d[m+3]=n=x*F>>>D,0<n?(n=255/n,d[m]=(q*F>>>D)*n,d[m+1]=(t*F>>>D)*n,d[m+2]=(v*F>>>D)*n):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+y)<A?m:A)*w<<2,q-=k.r-(k.r=d[m]),t-=k.g-(k.g=d[m+1]),v-=k.b-(k.b=d[m+2]),x-=k.a-(k.a=d[m+3]),k=k.n,
    p+=w}}return!0};createjs.BlurFilter=createjs.promote(c,"Filter")})();this.createjs=this.createjs||{};
(function(){function c(a){this.alphaMap=a;this._mapData=this._alphaMap=null}var b=createjs.extend(c,createjs.Filter);b.clone=function(){var a=new c(this.alphaMap);return a._alphaMap=this._alphaMap,a._mapData=this._mapData,a};b.toString=function(){return"[AlphaMapFilter]"};b._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;a=a.data;for(var b=this._mapData,c=0,e=a.length;e>c;c+=4)a[c+3]=b[c]||0;return!0};b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==
    this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var e=a.getImageData(0,0,b.width,b.height)}catch(d){return!1}return this._mapData=e.data,!0};createjs.AlphaMapFilter=createjs.promote(c,"Filter")})();this.createjs=this.createjs||{};
(function(){function c(a){this.mask=a}var b=createjs.extend(c,createjs.Filter);b.applyFilter=function(a,b,c,e,d,f,h,k){return this.mask?(f=f||a,null==h&&(h=b),null==k&&(k=c),f.save(),a!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,h,k),f.restore(),!0)):!0};b.clone=function(){return new c(this.mask)};b.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(c,"Filter")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c,e,d,f,h,k){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=e?e:1;this.redOffset=d||0;this.greenOffset=f||0;this.blueOffset=h||0;this.alphaOffset=k||0}var b=createjs.extend(c,createjs.Filter);b.toString=function(){return"[ColorFilter]"};b.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,
    this.alphaOffset)};b._applyFilter=function(a){a=a.data;for(var b=a.length,c=0;b>c;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(c,"Filter")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c,e){this.setColor(a,b,c,e)}var b=c.prototype;c.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=
    [1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;b.setColor=function(a,b,c,e){return this.reset().adjustColor(a,b,c,e)};b.reset=function(){return this.copy(c.IDENTITY_MATRIX)};b.adjustColor=function(a,b,c,e){return this.adjustHue(e),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),
    this)};b.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b;return 0>a?b=127+a/100*127:(b=a%1,b=0==b?c.DELTA_INDEX[a]:c.DELTA_INDEX[a<<0]*(1-b)+c.DELTA_INDEX[(a<<0)+1]*b,b=127*b+127),this._multiplyMatrix([b/127,0,0,0,.5*(127-b),0,b/127,0,0,.5*(127-b),0,0,b/127,0,.5*(127-b),0,0,0,1,0,0,0,0,0,1]),this};b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([.3086*(1-a)+a,.6094*(1-
a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};
    b.concat=function(a){return a=this._fixMatrix(a),a.length!=c.LENGTH?this:(this._multiplyMatrix(a),this)};b.clone=function(){return(new c).copy(this)};b.toArray=function(){for(var a=[],b=0,l=c.LENGTH;l>b;b++)a[b]=this[b];return a};b.copy=function(a){for(var b=c.LENGTH,l=0;b>l;l++)this[l]=a[l];return this};b.toString=function(){return"[ColorMatrix]"};b._multiplyMatrix=function(a){var b,c,e,d=[];for(b=0;5>b;b++){for(c=0;5>c;c++)d[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(e=0;5>e;e++)f+=a[c+5*e]*d[e];
        this[c+5*b]=f}}};b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};b._fixMatrix=function(a){return a instanceof c&&(a=a.toArray()),a.length<c.LENGTH?a=a.slice(0,a.length).concat(c.IDENTITY_MATRIX.slice(a.length,c.LENGTH)):a.length>c.LENGTH&&(a=a.slice(0,c.LENGTH)),a};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};
(function(){function c(a){this.matrix=a}var b=createjs.extend(c,createjs.Filter);b.toString=function(){return"[ColorMatrixFilter]"};b.clone=function(){return new c(this.matrix)};b._applyFilter=function(a){var b,c,e,d;a=a.data;var f=a.length;b=this.matrix;for(var h=b[0],k=b[1],m=b[2],n=b[3],p=b[4],r=b[5],q=b[6],t=b[7],v=b[8],x=b[9],B=b[10],L=b[11],I=b[12],w=b[13],G=b[14],A=b[15],z=b[16],y=b[17],J=b[18],E=b[19],H=0;f>H;H+=4)b=a[H],c=a[H+1],e=a[H+2],d=a[H+3],a[H]=b*h+c*k+e*m+d*n+p,a[H+1]=b*r+c*q+e*t+
    d*v+x,a[H+2]=b*B+c*L+e*I+d*w+G,a[H+3]=b*A+c*z+e*y+d*J+E;return!0};createjs.ColorMatrixFilter=createjs.promote(c,"Filter")})();this.createjs=this.createjs||{};
(function(){function c(){throw"Touch cannot be instantiated";}c.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)};c.enable=function(b,a,g){return b&&b.canvas&&c.isSupported()?b.__touch?!0:(b.__touch={pointers:{},multitouch:!a,preventDefault:!g,count:0},"ontouchstart"in window?c._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&
c._IE_enable(b),!0):!1};c.disable=function(b){b&&("ontouchstart"in window?c._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_disable(b),delete b.__touch)};c._IOS_enable=function(b){var a=b.canvas,g=b.__touch.f=function(a){c._IOS_handleEvent(b,a)};a.addEventListener("touchstart",g,!1);a.addEventListener("touchmove",g,!1);a.addEventListener("touchend",g,!1);a.addEventListener("touchcancel",g,!1)};c._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,
    a.removeEventListener("touchstart",b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};c._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var c=a.changedTouches,l=a.type,e=0,d=c.length;d>e;e++){var f=c[e],h=f.identifier;f.target==b.canvas&&("touchstart"==l?this._handleStart(b,h,a,f.pageX,f.pageY):"touchmove"==l?this._handleMove(b,h,a,f.pageX,f.pageY):("touchend"==l||
"touchcancel"==l)&&this._handleEnd(b,h,a))}}};c._IE_enable=function(b){var a=b.canvas,g=b.__touch.f=function(a){c._IE_handleEvent(b,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",g,!1),window.addEventListener("MSPointerMove",g,!1),window.addEventListener("MSPointerUp",g,!1),window.addEventListener("MSPointerCancel",g,!1),b.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",g,!1),window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",
    g,!1),window.addEventListener("pointercancel",g,!1),b.__touch.preventDefault&&(a.style.touchAction="none"));b.__touch.activeIDs={}};c._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
    a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};c._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var c=a.type,l=a.pointerId,e=b.__touch.activeIDs;"MSPointerDown"==c||"pointerdown"==c?a.srcElement==b.canvas&&(e[l]=!0,this._handleStart(b,l,a,a.pageX,a.pageY)):e[l]&&("MSPointerMove"==c||"pointermove"==c?this._handleMove(b,l,a,a.pageX,a.pageY):("MSPointerUp"==c||"MSPointerCancel"==c||
"pointerup"==c||"pointercancel"==c)&&(delete e[l],this._handleEnd(b,l,a)))}};c._handleStart=function(b,a,c,l,e){var d=b.__touch;if(d.multitouch||!d.count){var f=d.pointers;f[a]||(f[a]=!0,d.count++,b._handlePointerDown(a,c,l,e))}};c._handleMove=function(b,a,c,l,e){b.__touch.pointers[a]&&b._handlePointerMove(a,c,l,e)};c._handleEnd=function(b,a,c){var l=b.__touch,e=l.pointers;e[a]&&(l.count--,b._handlePointerUp(a,c,!0),delete e[a])};createjs.Touch=c})();this.createjs=this.createjs||{};
(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="0.8.1";c.buildDate="Thu, 21 May 2015 16:17:39 GMT"})();this.createjs=this.createjs||{};(function(){var c=createjs.PreloadJS=createjs.PreloadJS||{};c.version="0.6.1";c.buildDate="Thu, 21 May 2015 16:17:37 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(c,b){function a(){this.constructor=c}return a.prototype=b.prototype,c.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(c,b){var a=c.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(b+="_")+"constructor"]=g.constructor;for(var l in g)a.hasOwnProperty(l)&&"function"==typeof g[l]&&(a[b+l]=g[l])}return c};this.createjs=this.createjs||{};createjs.indexOf=function(c,b){for(var a=0,g=c.length;g>a;a++)if(b===c[a])return a;return-1};this.createjs=this.createjs||{};
(function(){createjs.proxy=function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){return c.apply(b,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};
(function(){function c(){throw"BrowserDetect cannot be instantiated";}var b=c.agent=window.navigator.userAgent;c.isWindowPhone=-1<b.indexOf("IEMobile")||-1<b.indexOf("Windows Phone");c.isFirefox=-1<b.indexOf("Firefox");c.isOpera=null!=window.opera;c.isChrome=-1<b.indexOf("Chrome");c.isIOS=(-1<b.indexOf("iPod")||-1<b.indexOf("iPhone")||-1<b.indexOf("iPad"))&&!c.isWindowPhone;c.isAndroid=-1<b.indexOf("Android")&&!c.isWindowPhone;c.isBlackberry=-1<b.indexOf("Blackberry");createjs.BrowserDetect=c})();
this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var b=c.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
    !0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.set=function(a){for(var b in a)this[b]=a[b];return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){function c(b,a,c){this.Event_constructor("error");this.title=b;this.message=a;this.data=c}createjs.extend(c,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(c,"Event")})();this.createjs=this.createjs||{};
(function(){function c(){this._captureListeners=this._listeners=null}var b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b.addEventListener=function(a,b,c){var e;e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
    this._listeners||{};var d=e[a];return d&&this.removeEventListener(a,b,c),d=e[a],d?d.push(b):e[a]=[b],b};b.on=function(a,b,c,e,d,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,d);e&&a.remove()},f)};b.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var e=c[a];if(e)for(var d=0,f=e.length;f>d;d++)if(e[d]==b){1==f?delete c[a]:e.splice(d,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?
    (this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a){if("string"==typeof a){var b=this._listeners;if(!b||!b[a])return!1;a=new createjs.Event(a)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(c){}if(a.bubbles&&this.parent){for(var l=this,b=[l];l.parent;)b.push(l=l.parent);for(var e=b.length,l=e-1;0<=l&&!a.propagationStopped;l--)b[l]._dispatchEvent(a,1+(0==l));for(l=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              1;e>l&&!a.propagationStopped;l++)b[l]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,e=1==b?this._captureListeners:this._listeners;if(a&&e&&(e=e[a.type])&&(c=e.length)){try{a.currentTarget=
    this}catch(h){}try{a.eventPhase=b}catch(h){}a.removed=!1;for(var e=e.slice(),d=0;c>d&&!a.immediatePropagationStopped;d++){var f=e[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){function c(b,a){this.Event_constructor("progress");this.loaded=b;this.total=null==a?1:a;this.progress=0==a?0:this.loaded/this.total}createjs.extend(c,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(c,"Event")})(window);
(function(){function c(b,g){function d(a){if(d[a]!==A)return d[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=d("json-stringify")&&d("json-parse");else{var c;if("json-stringify"==a){b=g.stringify;var l="function"==typeof b&&y;if(l){(c=function(){return 1}).toJSON=c;try{l="0"===b(0)&&"0"===b(new e)&&'""'==b(new f)&&b(z)===A&&b(A)===A&&b()===A&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([A])&&"null"==b(null)&&"[null,null,null]"==b([A,z,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
    b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new k(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new k(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new k(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new k(-1))}catch(h){l=!1}}b=l}if("json-parse"==a){b=g.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var m=5==c.a.length&&1===c.a[0];if(m){try{m=!b('"\t"')}catch(h){}if(m)try{m=
    1!==b("01")}catch(h){}if(m)try{m=1!==b("1.")}catch(h){}}}}catch(h){m=!1}b=m}}return d[a]=!!b}b||(b=l.Object());g||(g=l.Object());var e=b.Number||l.Number,f=b.String||l.String,h=b.Object||l.Object,k=b.Date||l.Date,x=b.SyntaxError||l.SyntaxError,B=b.TypeError||l.TypeError,L=b.Math||l.Math,I=b.JSON||l.JSON;"object"==typeof I&&I&&(g.stringify=I.stringify,g.parse=I.parse);var w,G,A,h=h.prototype,z=h.toString,y=new k(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&
    10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(V){}if(!d("json")){var J=d("bug-string-char-index");if(!y)var E=L.floor,H=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(a,b){return H[b]+365*(a-1970)+E((a-1969+(b=+(1<b)))/4)-E((a-1901+b)/100)+E((a-1601+b)/400)};if((w=h.hasOwnProperty)||(w=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=z?w=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);
        return this.__proto__=b,a}:(b=c.constructor,w=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,w.call(this,a)}),G=function(b,c){var g,d,e,f=0;(g=function(){this.valueOf=0}).prototype.valueOf=0;d=new g;for(e in d)w.call(d,e)&&f++;return g=d=null,f?G=2==f?function(a,b){var c,d={},g="[object Function]"==z.call(a);for(c in a)g&&"prototype"==c||w.call(d,c)||!(d[c]=1)||!w.call(a,c)||b(c)}:function(a,b){var c,d,g="[object Function]"==z.call(a);for(c in a)g&&
    "prototype"==c||!w.call(a,c)||(d="constructor"===c)||b(c);(d||w.call(a,c="constructor"))&&b(c)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),G=function(b,c){var g,e;e="[object Function]"==z.call(b);var f=!e&&"function"!=typeof b.constructor&&a[typeof b.hasOwnProperty]&&b.hasOwnProperty||w;for(g in b)e&&"prototype"==g||!f.call(b,g)||c(g);for(e=d.length;g=d[--e];f.call(b,g)&&c(g));}),G(b,c)},!d("json-stringify")){var P={92:"\\\\",34:'\\"',
    8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},K=function(a,b){return("000000"+(b||0)).slice(-a)},F=function(a){for(var b='"',c=0,g=a.length,d=!J||10<g,e=d&&(J?a.split(""):a);g>c;c++){var f=a.charCodeAt(c);switch(f){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=P[f];break;default:if(32>f){b+="\\u00"+K(2,f.toString(16));break}b+=d?e[c]:a.charAt(c)}}return b+'"'},D=function(a,b,c,g,d,e,f){var l,h,k,m,n,p,y,q,r,t;try{l=b[a]}catch(J){}if("object"==typeof l&&l)if(h=z.call(l),"[object Date]"!=h||
    w.call(l,"toJSON"))"function"==typeof l.toJSON&&("[object Number]"!=h&&"[object String]"!=h&&"[object Array]"!=h||w.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(N){n=E(l/864E5);for(k=E(n/365.2425)+1970-1;N(k+1,0)<=n;k++);for(m=E((n-N(k,0))/30.42);N(k,m+1)<=n;m++);n=1+n-N(k,m);p=(l%864E5+864E5)%864E5;y=E(p/36E5)%24;q=E(p/6E4)%60;r=E(p/1E3)%60;p%=1E3}else k=l.getUTCFullYear(),m=l.getUTCMonth(),n=l.getUTCDate(),y=l.getUTCHours(),q=l.getUTCMinutes(),r=l.getUTCSeconds(),p=l.getUTCMilliseconds();
    l=(0>=k||1E4<=k?(0>k?"-":"+")+K(6,0>k?-k:k):K(4,k))+"-"+K(2,m+1)+"-"+K(2,n)+"T"+K(2,y)+":"+K(2,q)+":"+K(2,r)+"."+K(3,p)+"Z"}else l=null;if(c&&(l=c.call(b,a,l)),null===l)return"null";if(h=z.call(l),"[object Boolean]"==h)return""+l;if("[object Number]"==h)return l>-1/0&&1/0>l?""+l:"null";if("[object String]"==h)return F(""+l);if("object"==typeof l){for(a=f.length;a--;)if(f[a]===l)throw B();if(f.push(l),t=[],b=e,e+=d,"[object Array]"==h){k=0;for(a=l.length;a>k;k++)h=D(k,l,c,g,d,e,f),t.push(h===A?"null":
    h);h=t.length?d?"[\n"+e+t.join(",\n"+e)+"\n"+b+"]":"["+t.join(",")+"]":"[]"}else G(g||l,function(a){var b=D(a,l,c,g,d,e,f);b!==A&&t.push(F(a)+":"+(d?" ":"")+b)}),h=t.length?d?"{\n"+e+t.join(",\n"+e)+"\n"+b+"}":"{"+t.join(",")+"}":"{}";return f.pop(),h}};g.stringify=function(b,c,g){var d,e,f,l;if(a[typeof c]&&c)if("[object Function]"==(l=z.call(c)))e=c;else if("[object Array]"==l){f={};for(var h,k=0,m=c.length;m>k;h=c[k++],l=z.call(h),("[object String]"==l||"[object Number]"==l)&&(f[h]=1));}if(g)if("[object Number]"==
    (l=z.call(g))){if(0<(g-=g%1))for(d="",10<g&&(g=10);d.length<g;d+=" ");}else"[object String]"==l&&(d=10>=g.length?g:g.slice(0,10));return D("",(h={},h[""]=b,h),e,f,d,"",[])}}if(!d("json-parse")){var u,O,T=f.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},C=function(){throw u=O=null,x();},M=function(){for(var a,b,c,g,d,e=O,f=e.length;f>u;)switch(d=e.charCodeAt(u)){case 9:case 10:case 13:case 32:u++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=J?
        e.charAt(u):e[u],u++,a;case 34:a="@";for(u++;f>u;)if(d=e.charCodeAt(u),32>d)C();else if(92==d)switch(d=e.charCodeAt(++u)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=U[d];u++;break;case 117:b=++u;for(c=u+4;c>u;u++)d=e.charCodeAt(u),48<=d&&57>=d||97<=d&&102>=d||65<=d&&70>=d||C();a+=T("0x"+e.slice(b,u));break;default:C()}else{if(34==d)break;d=e.charCodeAt(u);for(b=u;32<=d&&92!=d&&34!=d;)d=e.charCodeAt(++u);a+=e.slice(b,u)}if(34==e.charCodeAt(u))return u++,a;C();default:if(b=
            u,45==d&&(g=!0,d=e.charCodeAt(++u)),48<=d&&57>=d){for(48==d&&(d=e.charCodeAt(u+1),48<=d&&57>=d)&&C();f>u&&(d=e.charCodeAt(u),48<=d&&57>=d);u++);if(46==e.charCodeAt(u)){for(c=++u;f>c&&(d=e.charCodeAt(c),48<=d&&57>=d);c++);c==u&&C();u=c}if(d=e.charCodeAt(u),101==d||69==d){d=e.charCodeAt(++u);43!=d&&45!=d||u++;for(c=u;f>c&&(d=e.charCodeAt(c),48<=d&&57>=d);c++);c==u&&C();u=c}return+e.slice(b,u)}if(g&&C(),"true"==e.slice(u,u+4))return u+=4,!0;if("false"==e.slice(u,u+5))return u+=5,!1;if("null"==e.slice(u,
            u+4))return u+=4,null;C()}return"$"},Q=function(a){var b,c;if("$"==a&&C(),"string"==typeof a){if("@"==(J?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=M(),"]"!=a;c||(c=!0))c&&(","==a?(a=M(),"]"==a&&C()):C()),","==a&&C(),b.push(Q(a));return b}if("{"==a){for(b={};a=M(),"}"!=a;c||(c=!0))c&&(","==a?(a=M(),"}"==a&&C()):C()),","!=a&&"string"==typeof a&&"@"==(J?a.charAt(0):a[0])&&":"==M()||C(),b[a.slice(1)]=Q(M());return b}C()}return a},S=function(a,b,c){c=R(a,b,c);c===A?delete a[b]:a[b]=c},
    R=function(a,b,c){var d,g=a[b];if("object"==typeof g&&g)if("[object Array]"==z.call(g))for(d=g.length;d--;)S(g,d,c);else G(g,function(a){S(g,a,c)});return c.call(a,b,g)};g.parse=function(a,b){var c,d;return u=0,O=""+a,c=Q(M()),"$"!=M()&&C(),u=O=null,b&&"[object Function]"==z.call(b)?R((d={},d[""]=c,d),"",b):c}}}return g.runInContext=c,g}var b="function"==typeof define&&define.amd,a={"function":!0,object:!0},g=a[typeof exports]&&exports&&!exports.nodeType&&exports,l=a[typeof window]&&window||this,
    e=g&&a[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!e||e.global!==e&&e.window!==e&&e.self!==e||(l=e),g&&!b)c(l,g);else{var d=l.JSON,f=l.JSON3,h=!1,k=c(l,l.JSON3={noConflict:function(){return h||(h=!0,l.JSON=d,l.JSON3=f,d=f=null),k}});l.JSON={parse:k.parse,stringify:k.stringify}}b&&define(function(){return k})}).call(this);
(function(){var c={appendToHead:function(b){c.getHead().appendChild(b)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=c})();
(function(){createjs.DataUtils={parseXML:function(c,b){var a=null;try{window.DOMParser&&(a=(new DOMParser).parseFromString(c,b))}catch(g){}if(!a)try{a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(c)}catch(g){a=null}return a},parseJSON:function(c){if(null==c)return null;try{return JSON.parse(c)}catch(b){throw b;}}}})();this.createjs=this.createjs||{};
(function(){function c(){this.id=this.type=this.src=null;this.maintainOrder=!1;this.data=this.callback=null;this.method=createjs.LoadItem.GET;this.headers=this.values=null;this.withCredentials=!1;this.crossOrigin=this.mimeType=null;this.loadTimeout=a.LOAD_TIMEOUT_DEFAULT}var b=c.prototype={},a=c;a.LOAD_TIMEOUT_DEFAULT=8E3;a.create=function(b){if("string"==typeof b){var l=new c;return l.src=b,l}if(b instanceof a)return b;if(b instanceof Object&&b.src)return null==b.loadTimeout&&(b.loadTimeout=a.LOAD_TIMEOUT_DEFAULT),
    b;throw Error("Type not recognized.");};b.set=function(a){for(var b in a)this[b]=a[b];return this};createjs.LoadItem=a})();
(function(){var c={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(b){var a={absolute:!1,relative:!1};if(null==b)return a;var g=b.indexOf("?");-1<g&&(b=b.substr(0,g));var l;return c.ABSOLUTE_PATT.test(b)?a.absolute=!0:c.RELATIVE_PATT.test(b)&&(a.relative=!0),(l=b.match(c.EXTENSION_PATT))&&(a.extension=l[1].toLowerCase()),a},formatQueryString:function(b,a){if(null==b)throw Error("You must specify data.");var c=[],l;for(l in b)c.push(l+
    "="+escape(b[l]));return a&&(c=c.concat(a)),c.join("&")},buildPath:function(b,a){if(null==a)return b;var c=[],l=b.indexOf("?");if(-1!=l)var e=b.slice(l+1),c=c.concat(e.split("&"));return-1!=l?b.slice(0,l)+"?"+this._formatQueryString(a,c):b+"?"+this._formatQueryString(a,c)},isCrossDomain:function(b){var a=document.createElement("a");a.href=b.src;b=document.createElement("a");b.href=location.href;return""!=a.hostname&&(a.port!=b.port||a.protocol!=b.protocol||a.hostname!=b.hostname)},isLocal:function(b){var a=
    document.createElement("a");return a.href=b.src,""==a.hostname&&"file:"==a.protocol},isBinary:function(b){switch(b){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(b){return b instanceof HTMLImageElement},isAudioTag:function(b){return window.HTMLAudioElement?b instanceof HTMLAudioElement:!1},isVideoTag:function(b){return window.HTMLVideoElement?b instanceof HTMLVideoElement:!1},isText:function(b){switch(b){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;
    default:return!1}},getTypeByExtension:function(b){if(null==b)return createjs.AbstractLoader.TEXT;switch(b.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.AbstractLoader.IMAGE;case "ogg":case "mp3":case "webm":return createjs.AbstractLoader.SOUND;case "mp4":case "webm":case "ts":return createjs.AbstractLoader.VIDEO;case "json":return createjs.AbstractLoader.JSON;case "xml":return createjs.AbstractLoader.XML;case "css":return createjs.AbstractLoader.CSS;
    case "js":return createjs.AbstractLoader.JAVASCRIPT;case "svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=c})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.EventDispatcher_constructor();this.canceled=this.loaded=!1;this.progress=0;this.type=c;this.resultFormatter=null;this._item=a?createjs.LoadItem.create(a):null;this._preferXHR=b;this._tag=this._tagSrcAttribute=this._loadedItems=this._rawResult=this._result=null}var b=createjs.extend(c,createjs.EventDispatcher);c.POST="POST";c.GET="GET";c.BINARY="binary";c.CSS="css";c.IMAGE="image";c.JAVASCRIPT="javascript";c.JSON="json";c.JSONP="jsonp";c.MANIFEST="manifest";c.SOUND=
    "sound";c.VIDEO="video";c.SPRITESHEET="spritesheet";c.SVG="svg";c.TEXT="text";c.XML="xml";b.getItem=function(){return this._item};b.getResult=function(a){return a?this._rawResult:this._result};b.getTag=function(){return this._tag};b.setTag=function(a){this._tag=a};b.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",
    this,this);var a=new createjs.Event("initialize");a.loader=this._request;this.dispatchEvent(a);this._request.load()};b.cancel=function(){this.canceled=!0;this.destroy()};b.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._loadItems=this._result=this._rawResult=this._item=this._request=null;this.removeAllEventListeners()};b.getLoadedItems=function(){return this._loadedItems};b._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):
    new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};b._createTag=function(){return null};b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));this.hasEventListener("progress")&&
this.dispatchEvent(b)}};b._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult;null!=this._result&&(a.result=this._result);this.dispatchEvent(a)}};b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))};b._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};b.resultFormatter=null;b.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=
    a.target._response;a=this.resultFormatter&&this.resultFormatter(this);var b=this;a instanceof Function?a(function(a){b._result=a;b._sendComplete()}):(this._result=a||this._rawResult,this._sendComplete());break;case "progress":this._sendProgress(a);break;case "error":this._sendError(a);break;case "loadstart":this._sendLoadStart();break;case "abort":case "timeout":this._isCanceled()||this.dispatchEvent(a.type)}};b.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)};b.toString=function(){return"[PreloadJS AbstractLoader]"};
    createjs.AbstractLoader=createjs.promote(c,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.AbstractLoader_constructor(a,b,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src"}var b=createjs.extend(c,createjs.AbstractLoader);b.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};b._createTag=function(){};b._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),
    this._tagSrcAttribute)};b._formatResult=function(a){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(a.getTag().src=a.getResult(!0)),a.getTag()};createjs.AbstractMediaLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){var c=function(a){this._item=a},b=createjs.extend(c,createjs.EventDispatcher);b.load=function(){};b.destroy=function(){};b.cancel=function(){};createjs.AbstractRequest=createjs.promote(c,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1;this._startTagVisibility=null}var b=createjs.extend(c,createjs.AbstractRequest);b.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");
    a.loader=this._tag;this.dispatchEvent(a);this._hideTag();this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)};b.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||
this._handleTagComplete()};b._handleError=function(){this._clean();this.dispatchEvent("error")};b._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};b._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};b._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&
null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag);clearTimeout(this._loadTimeout)};b._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};b._showTag=function(){this._tag.style.visibility=this._startTagVisibility};b._handleStalled=function(){};createjs.TagRequest=createjs.promote(c,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var b=createjs.extend(c,createjs.TagRequest);b.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b;this._tag.addEventListener("stalled",a);this._tag.addEventListener("progress",b);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",
    this._loadedHandler,!1);this.TagRequest_load()};b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||this._handleTagComplete()};b._handleStalled=function(){};b._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};b._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",
    this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(c,"TagRequest")})();this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractRequest_constructor(a);this._loadTimeout=this._request=null;this._xhrLevel=1;this._rawResponse=this._response=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=
    createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);!this._createXHR(a)}var b=createjs.extend(c,createjs.AbstractRequest);c.ACTIVEX_VERSIONS="Msxml2.XMLHTTP.6.0 Msxml2.XMLHTTP.5.0 Msxml2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};b.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};b.load=function(){if(null==
    this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",
    this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));
    try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}};b.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a);this._request.responseType=a};b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof
Function?this._request.getAllResponseHeaders():null};b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null};b._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};b._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};b._handleAbort=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",
    null,a))};b._handleError=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent(a.message))};b._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};b._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(b){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||
        window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===b.name&&window.BlobBuilder)a=new BlobBuilder,a.append(this._response),this._response=a.getBlob()}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};b._handleTimeout=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))};b._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return Error(a)}return null};b._getResponse=function(){if(null!=this._response)return this._response;
    if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null};b._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),c={},e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest,b&&void 0===e.withCredentials&&window.XDomainRequest&&(e=new XDomainRequest);else{for(var d=0,f=s.ACTIVEX_VERSIONS.length;f>d;d++){var h=
    s.ACTIVEX_VERSIONS[d];try{e=new ActiveXObject(h);break}catch(m){}}if(null==e)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8");a.mimeType&&e.overrideMimeType&&e.overrideMimeType(a.mimeType);this._xhrLevel="string"==typeof e.responseType?2:1;d=null;if(d=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,e.open(a.method||createjs.AbstractLoader.GET,d,!0),b&&e instanceof XMLHttpRequest&&1==this._xhrLevel&&
    (c.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var k in a.headers)c[k]=a.headers[k];for(k in c)e.setRequestHeader(k,c[k]);return e instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(e.withCredentials=a.withCredentials),this._request=e,!0};b._clean=function(){clearTimeout(this._loadTimeout);null!=this._request.removeEventListener?
    (this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):
    (this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)};b.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(c,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function c(a,b,c){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,
    createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(a,b,c)}var b=createjs.extend(c,createjs.AbstractLoader);b.init=function(a,b,c){this._preferXHR=this.preferXHR=this.useXHR=!0;this.setPreferXHR(a);this._paused=!1;this._basePath=b;this._crossOrigin=c;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults=
{};this._numItemsLoaded=this._numItems=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=0/0};c.loadTimeout=8E3;c.LOAD_TIMEOUT=0;c.BINARY=createjs.AbstractLoader.BINARY;c.CSS=createjs.AbstractLoader.CSS;c.IMAGE=createjs.AbstractLoader.IMAGE;c.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT;c.JSON=createjs.AbstractLoader.JSON;c.JSONP=createjs.AbstractLoader.JSONP;c.MANIFEST=createjs.AbstractLoader.MANIFEST;c.SOUND=createjs.AbstractLoader.SOUND;c.VIDEO=createjs.AbstractLoader.VIDEO;c.SVG=
    createjs.AbstractLoader.SVG;c.TEXT=createjs.AbstractLoader.TEXT;c.XML=createjs.AbstractLoader.XML;c.POST=createjs.AbstractLoader.POST;c.GET=createjs.AbstractLoader.GET;b.registerLoader=function(a){if(!a||!a.canLoadItem)throw Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw Error("loader already exists.");this._availableLoaders.unshift(a)};b.unregisterLoader=function(a){a=this._availableLoaders.indexOf(a);-1!=a&&a<this._defaultLoaderLength-1&&this._availableLoaders.splice(a,
    1)};b.setUseXHR=function(a){return this.setPreferXHR(a)};b.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR};b.removeAll=function(){this.remove()};b.remove=function(a){var b=null;if(!a||a instanceof Array)if(a)b=a;else{if(0<arguments.length)return}else b=[a];var c=!1;if(b){for(;b.length;){for(var e=b.pop(),d=this.getResult(e),f=this._loadQueue.length-1;0<=f;f--)if(h=this._loadQueue[f].getItem(),h.id==e||h.src==e){this._loadQueue.splice(f,1)[0].cancel();
    break}for(f=this._loadQueueBackup.length-1;0<=f;f--)if(h=this._loadQueueBackup[f].getItem(),h.id==e||h.src==e){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(d)this._disposeItem(this.getItem(e));else for(var f=this._currentLoads.length-1;0<=f;f--){var h=this._currentLoads[f].getItem();if(h.id==e||h.src==e){this._currentLoads.splice(f,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();for(e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);this.init(this.preferXHR,
    this._basePath)}};b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);a=[];for(var b=0,c=this._loadQueueBackup.length;c>b;b++)a.push(this._loadQueueBackup[b].getItem());this.loadManifest(a,!1)};b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types){a=0;for(var c=b.types.length;c>a;a++)this._typeCallbacks[b.types[a]]=b}if(null!=b.extensions)for(a=0,c=b.extensions.length;c>
a;a++)this._extensionCallbacks[b.extensions[a]]=b}};b.setMaxConnections=function(a){this._maxConnections=a;!this._paused&&0<this._loadQueue.length&&this._loadNext()};b.loadFile=function(a,b,c){if(null==a)return a=new createjs.ErrorEvent("PRELOAD_NO_FILE"),void this._sendError(a);this._addItem(a,null,c);this.setPaused(!1!==b?!1:!0)};b.loadManifest=function(a,b,l){var e=null,d=null;if(a instanceof Array){if(0==a.length)return e=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"),void this._sendError(e);
    e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a)return e=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(e);void 0!==a.src?(null==a.type?a.type=c.MANIFEST:a.type!=c.MANIFEST&&(e=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(e)),e=[a]):void 0!==a.manifest&&(e=a.manifest,d=a.path)}a=0;for(var f=e.length;f>a;a++)this._addItem(e[a],d,l);this.setPaused(!1!==b?!1:!0)};b.load=function(){this.setPaused(!1)};b.getItem=function(a){return this._loadItemsById[a]||
    this._loadItemsBySrc[a]};b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;c=c.id;return b&&this._loadedRawResults[c]?this._loadedRawResults[c]:this._loadedResults[c]};b.getItems=function(a){var b=[],c;for(c in this._loadItemsById){var e=this._loadItemsById[c],d=this.getResult(c);!0===a&&null==d||b.push({item:e,result:d,rawResult:this.getResult(c,!0)})}return b};b.setPaused=function(a){(this._paused=a)||this._loadNext()};b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();
    this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=0/0};b._addItem=function(a,b,c){a=this._createLoadItem(a,b,c);null!=a&&(b=this._createLoader(a),null!=b&&("plugins"in b&&(b.plugins=this._plugins),a._loader=b,this._loadQueue.push(b),this._loadQueueBackup.push(b),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT||!0===a.maintainOrder)&&(this._scriptOrder.push(a),this._loadedScripts.push(null))))};
    b._createLoadItem=function(a,b,c){a=createjs.LoadItem.create(a);if(null==a)return null;var e="";c=c||this._basePath;if(a.src instanceof Object){if(!a.type)return null;if(b){var e=b,d=createjs.RequestUtils.parseURI(b);null==c||d.absolute||d.relative||(e=c+e)}else null!=c&&(e=c)}else{d=createjs.RequestUtils.parseURI(a.src);d.extension&&(a.ext=d.extension);null==a.type&&(a.type=createjs.RequestUtils.getTypeByExtension(a.ext));var f=a.src;d.absolute||d.relative||(b?(e=b,d=createjs.RequestUtils.parseURI(b),
        f=b+f,null==c||d.absolute||d.relative||(e=c+e)):null!=c&&(e=c));a.src=e+a.src}a.path=e;void 0!==a.id&&null!==a.id&&""!==a.id||(a.id=f);if(b=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext]){b=b.callback.call(b.scope,a,this);if(!1===b)return null;!0===b||null!=b&&(a._loader=b);d=createjs.RequestUtils.parseURI(a.src);null!=d.extension&&(a.ext=d.extension)}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,null==a.crossOrigin&&(a.crossOrigin=this._crossOrigin),a};b._createLoader=
        function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var e=this._availableLoaders[c];if(e&&e.canLoadItem(a))return new e(a,b)}return null};b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=
    this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}};b._loadItem=function(a){a.on("fileload",this._handleFileLoad,this);a.on("progress",this._handleProgress,this);a.on("complete",this._handleFileComplete,this);a.on("error",this._handleError,this);a.on("fileerror",this._handleFileError,this);this._currentLoads.push(a);this._sendFileStart(a.getItem());a.load()};b._handleFileLoad=function(a){a.target=null;this.dispatchEvent(a)};
    b._handleFileError=function(a){a=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(a)};b._handleError=function(a){a=a.target;this._numItemsLoaded++;this._finishOrderedItem(a,!0);this._updateProgress();var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.getItem());this._sendError(b);this.stopOnError?this.setPaused(!0):(this._removeLoadItem(a),this._cleanLoadItem(a),this._loadNext())};b._handleFileComplete=function(a){a=a.target;var b=a.getItem(),c=a.getResult();this._loadedResults[b.id]=
        c;var e=a.getResult(!0);null!=e&&e!==c&&(this._loadedRawResults[b.id]=e);this._saveLoadedItems(a);this._removeLoadItem(a);this._finishOrderedItem(a)||this._processFinishedLoad(b,a);this._cleanLoadItem(a)};b._saveLoadedItems=function(a){a=a.getLoadedItems();if(null!==a)for(var b=0;b<a.length;b++){var c=a[b].item;this._loadItemsBySrc[c.src]=c;this._loadItemsById[c.id]=c;this._loadedResults[c.id]=a[b].result;this._loadedRawResults[c.id]=a[b].rawResult}};b._finishOrderedItem=function(a,b){var c=a.getItem();
        if(this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var e=createjs.indexOf(this._scriptOrder,c);return-1==e?!1:(this._loadedScripts[e]=!0===b?!0:c,this._checkScriptLoadOrder(),!0)}return!1};b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(!0!==c){var e=this._loadedResults[c.id];c.type==createjs.LoadQueue.JAVASCRIPT&&
    createjs.DomUtils.appendToHead(e);this._processFinishedLoad(c,c._loader);this._loadedScripts[b]=!0}}};b._processFinishedLoad=function(a,b){this._numItemsLoaded++;this.maintainScriptOrder||a.type!=createjs.LoadQueue.JAVASCRIPT||createjs.DomUtils.appendToHead(a.result);this._updateProgress();this._sendFileComplete(a,b);this._loadNext()};b._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;a=a.getItem();if(a.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;
        a=this._scriptOrder.indexOf(a);for(var b=0;a>b;){if(null==this._loadedScripts[b])return!1;b++}return this._currentlyLoadingScript=!0,!0};b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}};b._cleanLoadItem=function(a){(a=a.getItem())&&delete a._loader};b._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};b._updateProgress=function(){var a=this._numItemsLoaded/
        this._numItems,b=this._numItems-this._numItemsLoaded;if(0<b){for(var c=0,e=0,d=this._currentLoads.length;d>e;e++)c+=this._currentLoads[e].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)};b._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};b._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=
        new createjs.Event("fileprogress");c.progress=b;c.loaded=b;c.total=1;c.item=a;this.dispatchEvent(c)}};b._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b;c.item=a;c.result=this._loadedResults[a.id];c.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(c);this.hasEventListener("fileload")&&this.dispatchEvent(c)}};b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a;this.hasEventListener("filestart")&&
    this.dispatchEvent(b)};b.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};(function(){function c(b){this.AbstractLoader_constructor(b,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(c,createjs.AbstractLoader),c).canLoadItem=function(b){return b.type==createjs.AbstractLoader.TEXT};createjs.TextLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY);this.on("initialize",this._updateXHR,this)}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY};b._updateXHR=function(a){a.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=document.createElement(b?"style":"link");this._tag.rel="stylesheet";this._tag.type="text/css"}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS};b._formatResult=function(a){if(this._preferXHR){var b=a.getTag();b.styleSheet?b.styleSheet.cssText=a.getResult(!0):(a=
    document.createTextNode(a.getResult(!0)),b.appendChild(a))}else b=this._tag;return createjs.DomUtils.appendToHead(b),b};createjs.CSSLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag);null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img");this.on("initialize",this._updateXHR,this)}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=
    function(a){return a.type==createjs.AbstractLoader.IMAGE};b.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous");null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a);this.AbstractLoader_load()};b._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary";a.loader.setResponseType&&a.loader.setResponseType("blob")};b._formatResult=function(a){var b=this;return function(c){var e=
    b._tag,d=window.URL||window.webkitURL;if(b._preferXHR)if(d){var f=d.createObjectURL(a.getResult(!0));e.src=f;e.onload=function(){d.revokeObjectURL(b.src)}}else e.src=a.getItem().src;e.complete?c(e):e.onload=function(){c(this)}}};createjs.ImageLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(document.createElement("script"))}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT};b._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b};createjs.JavaScriptLoader=createjs.promote(c,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON);this.resultFormatter=this._formatResult}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON&&!a._loadAsJSONP};b._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){return a=new createjs.ErrorEvent("JSON_FORMAT",null,c),this._sendError(a),c}return b};createjs.JSONLoader=createjs.promote(c,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP);this.setTag(document.createElement("script"));this.getTag().type="text/javascript"}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP||a._loadAsJSONP};b.cancel=function(){this.AbstractLoader_cancel();this._dispose()};b.load=function(){if(null==this._item.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw Error("JSONP callback '"+
    this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);window.document.body.appendChild(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};b._handleLoad=function(a){this._result=this._rawResult=a;this._sendComplete();this._dispose()};b._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};
    b._dispose=function(){window.document.body.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST);this._manifestQueue=this.plugins=null}var b=createjs.extend(c,createjs.AbstractLoader);c.MANIFEST_PROGRESS=.25;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST};b.load=function(){this.AbstractLoader_load()};b._createRequest=function(){this._request=null!=this._item.callback?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};b.handleEvent=function(a){switch(a.type){case "complete":return this._rawResult=
    a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.MANIFEST_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=c.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};b.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};b._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;
    b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("complete",this._handleManifestComplete,this,!0);b.on("error",this._handleManifestError,this,!0);for(var c=0,e=this.plugins.length;e>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()};b._handleManifestFileLoad=function(a){a.target=null;this.dispatchEvent(a)};b._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
    b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.MANIFEST_PROGRESS)+c.MANIFEST_PROGRESS;this._sendProgress(this.progress)};b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.ManifestLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND);createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src);null!=this._tag&&(this._preferXHR=!1)}var b=createjs.extend(c,createjs.AbstractMediaLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND};b._createTag=function(a){var b=document.createElement("audio");
    return b.autoplay=!1,b.preload="none",b.src=a,b};createjs.SoundLoader=createjs.promote(c,"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function c(b,a){this.AbstractMediaLoader_constructor(b,a,createjs.AbstractLoader.VIDEO);createjs.RequestUtils.isVideoTag(b)||createjs.RequestUtils.isVideoTag(b.src)?(this.setTag(createjs.RequestUtils.isVideoTag(b)?b:b.src),this._preferXHR=!1):this.setTag(this._createTag())}createjs.extend(c,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")};c.canLoadItem=function(b){return b.type==createjs.AbstractLoader.VIDEO};createjs.VideoLoader=createjs.promote(c,
    "AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.SPRITESHEET);this._manifestQueue=null}var b=createjs.extend(c,createjs.AbstractLoader);c.SPRITESHEET_PROGRESS=.25;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET};b.destroy=function(){this.AbstractLoader_destroy;this._manifestQueue.close()};b._createRequest=function(){var a=this._item.callback;this._request=null!=a&&a instanceof Function?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};
    b.handleEvent=function(a){switch(a.type){case "complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=c.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};b._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue;
        b.on("complete",this._handleManifestComplete,this,!0);b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("error",this._handleManifestError,this,!0);b.loadManifest(a.images)}};b._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images;a=c.indexOf(a.item.src);c[a]=b}};b._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
    b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.SPRITESHEET_PROGRESS)+c.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.SpriteSheetLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG};b._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml");a=
    a.getTag();return!this._preferXHR&&document.body.contains(a)&&document.body.removeChild(a),null!=b.documentElement?(a.appendChild(b.documentElement),a.style.visibility="visible",a):b};createjs.SVGLoader=createjs.promote(c,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function c(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML);this.resultFormatter=this._formatResult}var b=createjs.extend(c,createjs.AbstractLoader);c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML};b._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")};createjs.XMLLoader=createjs.promote(c,"AbstractLoader")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.Container_constructor();this.applicationModel=drillEditor.ApplicationModel.getInstance();this.eventDispatcher=drillEditor.Dispatcher.getInstance();this.presentationController=drillEditor.PresentationController.getInstance();drillEditor.DrillEditorProxy.getDrillDataCallback=b;this.eventDispatcher.on(drillEditor.ApplicationEvent.NEW_DRILL_BUTTON_CLICK,g,this);this.eventDispatcher.on(drillEditor.ApplicationEvent.SHOW_SCREEN,a,this);this.eventDispatcher.on(drillEditor.ApplicationEvent.MAIN_MENU_LOAD_DRILL_CLICK,
    e,this);this.eventDispatcher.on(drillEditor.ApplicationEvent.LOAD_DRILL_BUTTON_CLICK,l,this);window.stage=new createjs.Stage("appCanvas");createjs.Touch.enable(window.stage);window.stage.mouseMoveOutside=!0;createjs.Ticker.on("tick",this.onTickHandler);window.stage.addChild(this);this.loadExternalAssets()}function b(){return drillEditor.PresentationController.getInstance().getPresentationDTO()}function a(a){this.showAppScreen(a.payload.screenId,a.payload.initParams)}function g(a){this.presentationController.createEmptyPresentation();
    this.showAppScreen(drillEditor.AppScreen.EDITOR)}function l(a){a=a.payload.drillId;this.currentScreen.showForm(drillEditor.ProgressBarForm,{headerText:"Loading you drill..."});drillEditor.DrillEditorProxy.getDrillDataById(a,function(a){this.presentationController.loadPresentation(a);this.showAppScreen(drillEditor.AppScreen.EDITOR)},function(){this.currentScreen.removeForm()},this)}function e(a){this.currentScreen.showForm(drillEditor.ProgressBarForm,{headerText:"Loading your saved drills..."});drillEditor.DrillEditorProxy.getSavedDrills(function(a){console.log("Successfully loaded drills");
    drillEditor.ApplicationModel.getInstance().savedDrills=a;this.currentScreen.removeForm();this.currentScreen.showForm(drillEditor.LoadDrillView,{positiveCallback:null,negativeCallback:null,callbackScope:this})},function(a){console.log("Failed to load drills",a);this.currentScreen.removeForm();this.currentScreen.showForm(drillEditor.ErrorDialogForm,{errorMessage:a,positiveCallback:null,negativeCallback:null,callbackScope:this})},this)}var d=createjs.extend(c,createjs.Container);d.onTickHandler=function(){window.stage&&
window.stage.update()};d.onAssetLoadComplete=function(a){this.applicationModel.assetsLoaded=!0;console.log("Application assets loaded!");drillEditor.DrillEditorProxy.drillStartupData?(this.applicationModel.appMode=drillEditor.ApplicationModel.EDIT_DRILL_APP_MODE,drillEditor.PresentationController.getInstance().loadPresentation(drillEditor.DrillEditorProxy.drillStartupData),this.showAppScreen(drillEditor.AppScreen.EDITOR)):(this.applicationModel.appMode=drillEditor.ApplicationModel.NEW_DRILL_APP_MODE,
    this.showAppScreen(drillEditor.AppScreen.MAIN_MENU))};d.onAssetLoadFailure=function(a){this.applicationModel.assetsLoaded=!1;console.log("Failed to load application assets!")};d.showAppScreen=function(a,b){var c;this.currentScreen&&this.currentScreen.stage&&(this.currentScreen.destroy(),this.removeChild(this.currentScreen));switch(a){case drillEditor.AppScreen.MAIN_MENU:c=drillEditor.MainMenuScreen;break;case drillEditor.AppScreen.EDITOR:c=drillEditor.Editor}c?(this.currentScreen=b?new c(b):new c,
    this.addChild(this.currentScreen)):console.error("Error: cant create a new app screen as screenClass in undefined!")};d.loadExternalAssets=function(){var a=[{id:"main-menu-background",src:"img/background_2_800_600.jpg",type:createjs.AbstractLoader.IMAGE},{id:"rotation-icon",src:"img/rotating22.png",type:createjs.AbstractLoader.IMAGE},{id:"soccer-ball-icon",src:"img/soccer-ball-icon-32.png",type:createjs.AbstractLoader.IMAGE},{id:"ball-supply-icon",src:"img/ball-supply-icon-26.png",type:createjs.AbstractLoader.IMAGE},
    {id:"goal-component-icon",src:"img/goal_65_47.png",type:createjs.AbstractLoader.IMAGE}];c.loadQueue=new createjs.LoadQueue(!1,null,!0);c.loadQueue.on("complete",this.onAssetLoadComplete,this);c.loadQueue.on("error",this.onAssetLoadFailure,this);c.loadQueue.loadManifest(a)};c.loadQueue=null;drillEditor.DrillEditorApplication=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l){this.Event_constructor(b,c,l);if(null==a||void 0==a)a={};this.payload=a}c.SHOW_SCREEN="show_screen";c.HIDE_CURRENT_FORM="hide_current_form";c.ELEMENT_SELECTED="element_selected";c.ELEMENT_DESELECTED="element_deselected";c.ELEMENT_POSITION_CHANGED="element_position_changed";c.ELEMENT_MOVE="element_move";c.ELEMENT_RESIZE="element_resize";c.ELEMENT_ROTATION_CHANGED="element_rotation_changed";c.GRAPHIC_PROPERTY_CHANGED="item_model_property_changed";c.NEW_DRILL_BUTTON_CLICK=
    "new_drill_button_click_event";c.LOAD_DRILL_BUTTON_CLICK="load_drill_button_click_event";c.PITCH_VIEW_CREATED="pitch_view_created";c.MAIN_MENU_LOAD_DRILL_CLICK="main_menu_load_drill_click";c.prototype.payload=null;createjs.extend(c,createjs.Event);drillEditor.ApplicationEvent=createjs.promote(c,"Event")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l){this.Event_constructor(b,c,l);if(null==a||void 0==a)a={};this.payload=a}c.CREATE_RECTANGLE_CLICK="create_rectangle_click";c.CREATE_SQUARE_CLICK="create_square_click";c.CREATE_ATTACKER_CLICK="create_attacker_click";c.CREATE_DEFENDER_CLICK="create_defender_click";c.CREATE_EXTRA_TEAM_CLICK="create_extra_team_click";c.CREATE_NEUTRAL_PLAYER_CLICK="create_target_click";c.CREATE_CONE_CLICK="create_cone_click";c.CREATE_DRIBBLING_CLICK="create_dribbling_click";c.CREATE_PLAYER_PATH_CLICK=
    "create_player_path_click";c.CREATE_BALL_PATH_CLICK="create_ball_path_click";c.CREATE_BALL_CLICK="create_ball_click";c.CREATE_BALLS_SUPPLY_CLICK="create_balls_supply_click";c.CREATE_ARC_CLICK="create_arc_click";c.CREATE_GOAL_CLICK="create_goal_click";c.COPY_ELEMENT_BUTTON_CLICK="copy_element_button_click";c.PASTE_ELEMENT_BUTTON_CLICK="paste_element_button_click";c.ELEMENT_COPIED_TO_CLIPBOARD="element_copied_to_clipboard";c.DELETE_ELEMENT="delete_element";c.SWAP_DIRECTIONS_BUTTON_CLICK="swap_directions_button_click";
    c.BACK_BUTTON_CLICK="back_button_click";c.prototype.payload=null;createjs.extend(c,createjs.Event);drillEditor.PresentationViewEvent=createjs.promote(c,"Event")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.convert22DigitsFormat=function(b){return 10>b?"0"+b.toString():b.toString()};c.formatTime=function(b,a,g){var l="",e,d;e=Math.floor(b/36E5);d=Math.floor((b-36E5*e)/6E4);b=Math.floor((b-36E5*e-6E4*d)/1E3);g||(l+=String(e)+":");return l="hh:mm"==a?l+c.convert22DigitsFormat(d):l+(c.convert22DigitsFormat(d)+":"+c.convert22DigitsFormat(b))};drillEditor.StringUtils=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.drawStrictSizeRectangle=function(b,a,c,l,e,d,f,h,k,m){a+=d/2;c+=d/2;l-=d;e-=d;b.clear();d&&(b.setStrokeStyle(d),b.beginStroke(f));m&&b.beginFill(k);(d||m)&&b.drawRect(a,c,l,e);b.endFill()};drillEditor.DrawingUtils=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){if(c.instance)throw Error("Only one instance of Clipboard is allowed!");}c.instance=null;c.getInstance=function(){c.instance||(c.instance=new c);return c.instance};c.data=null;drillEditor.Clipboard=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.getAngleBetween2Points=function(b,a){return 180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI};c.getDistanceBetween2Points=function(b,a){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))};c.compareNumeric=function(b,a){return b>a?1:b<a?-1:0};drillEditor.MathUtils=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.presentationDTOToVO=function(b){var a=new drillEditor.Presentation(b.id);a.pitchWidth=b.pitchWidth;a.pitchHeight=b.pitchHeight;a.elements=[];for(var g=0;g<b.elements.length;g++){var l=c.elementDTOToVO(b.elements[g]);a.elements.push(l)}return a};c.elementDTOToVO=function(b){var a,c=new createjs.Point(b.position.x,b.position.y);switch(b.type){case drillEditor.GraphicElementType.RECTANGLE:a=new drillEditor.RectVO(b.id,c,b.width,b.height);break;case drillEditor.GraphicElementType.SQUARE:a=
    new drillEditor.SquareVO(b.id,c,b.width,b.height);break;case drillEditor.GraphicElementType.ATTACKER:a=new drillEditor.AttackerVO(b.id,c,b.width/2);a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.DEFENDER:a=new drillEditor.DefenderVO(b.id,c,b.width/2);a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.EXTRA_TEAM:a=new drillEditor.ExtraTeamVO(b.id,c,b.width/2);a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.NEUTRAL_PLAYER:a=new drillEditor.NeutralVO(b.id,
    c,b.width/2);a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.CONE:a=new drillEditor.ConeVO(b.id,c,b.width,b.height);a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:a=new drillEditor.ArchedArrowVO(b.id,c,b.width,b.height,b.arrowDirection,b.rotation);break;case drillEditor.GraphicElementType.GOAL:a=new drillEditor.GoalVO(b.id,c,b.width,b.height,b.rotation);break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:a=new createjs.Point(b.startPoint.x,
    b.startPoint.y);c=new createjs.Point(b.endPoint.x,b.endPoint.y);a=new drillEditor.DribblingLineVO(b.id,a,c,b.arrowDirection);break;case drillEditor.GraphicElementType.PLAYER_MOVEMENT:a=new createjs.Point(b.startPoint.x,b.startPoint.y);c=new createjs.Point(b.endPoint.x,b.endPoint.y);a=new drillEditor.PlayerMovementVO(b.id,a,c,b.arrowDirection);break;case drillEditor.GraphicElementType.BALL_MOVEMENT:a=new createjs.Point(b.startPoint.x,b.startPoint.y);c=new createjs.Point(b.endPoint.x,b.endPoint.y);
    a=new drillEditor.BallMovementVO(b.id,a,c,b.arrowDirection);break;case drillEditor.GraphicElementType.BALL:a=new drillEditor.BallVO(b.id,c);break;case drillEditor.GraphicElementType.BALLS_SUPPLY:a=new drillEditor.BallSupplyVO(b.id,c)}a&&(a.id=b.id,a.position=new createjs.Point(a.position.x,a.position.y));return a};c.presentationToDTO=function(b){var a={};a.drillId=b.id;a.pitchWidth=b.pitchWidth;a.pitchHeight=b.pitchHeight;a.playersCount=0;a.equipmentRequired={cones:0,balls:0,ballSupply:0};a.activitiesRequired=
{playerDribbling:0,playerMovement:0,ballMovement:0};a.elements=[];for(var g=0;g<b.elements.length;g++){var l=b.elements[g],e=c.elementVOToDTO(l);a.elements.push(e);if(1==l.isPlayer)a.playersCount+=1;else if(1==l.isEquipment)switch(l.type){case drillEditor.GraphicElementType.CONE:a.equipmentRequired.cones+=1;break;case drillEditor.GraphicElementType.BALL:a.equipmentRequired.balls+=1;break;case drillEditor.GraphicElementType.BALLS_SUPPLY:a.equipmentRequired.ballSupply+=1}else if(1==l.isActivity)switch(l.type){case drillEditor.GraphicElementType.PLAYER_MOVEMENT:case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:a.activitiesRequired.playerMovement+=
    1;break;case drillEditor.GraphicElementType.BALL_MOVEMENT:a.activitiesRequired.ballMovement+=1;break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:a.activitiesRequired.playerDribbling+=1}}return a};c.elementVOToDTO=function(b){var a={};a.id=b.id;a.type=b.type;a.position={x:b.position.x,y:b.position.y};switch(b.type){case drillEditor.GraphicElementType.ATTACKER:case drillEditor.GraphicElementType.DEFENDER:case drillEditor.GraphicElementType.EXTRA_TEAM:case drillEditor.GraphicElementType.NEUTRAL_PLAYER:case drillEditor.GraphicElementType.CONE:a.width=
    b.width;a.height=b.height;a.fillColor=b.fillColor;break;case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:a.width=b.width;a.height=b.height;a.arrowDirection=b.arrowDirection;a.rotation=b.rotation;break;case drillEditor.GraphicElementType.GOAL:a.width=b.width;a.height=b.height;a.rotation=b.rotation;break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:case drillEditor.GraphicElementType.PLAYER_MOVEMENT:case drillEditor.GraphicElementType.BALL_MOVEMENT:a.startPoint={x:b.startPoint.x,y:b.startPoint.y},
    a.endPoint={x:b.endPoint.x,y:b.endPoint.y},a.arrowDirection=b.arrowDirection}return a};drillEditor.DTOUtils=c})();this.drillEditor=this.drillEditor||{};(function(){function c(){}c.getCanvasSegmentData=function(b,a,c,l,e){var d=document.createElement("canvas");d.id="temp_canvas";d.width=l;d.height=e;d.getContext("2d").drawImage(b,a,c,l,e,0,0,l,e);b=d.toDataURL("image/png");$(d).remove();return b};drillEditor.CanvasUtils=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.Container_constructor();this.onHideFormListener=drillEditor.Dispatcher.getInstance().on(drillEditor.ApplicationEvent.HIDE_CURRENT_FORM,b,this)}function b(b){a(this)}function a(a){a.form&&(a.form.destroy(),a.contains(a.form)&&a.removeChild(a.form));a.form=null}c.prototype.form=null;c.MAIN_MENU="main_menu";c.EDITOR="editor";createjs.extend(c,createjs.Container).destroy=function(){drillEditor.Dispatcher.getInstance().off(drillEditor.ApplicationEvent.HIDE_CURRENT_FORM,this.onHideFormListener);
    this.onHideFormListener=null;a(this)};c.prototype.showForm=function(b,c){a(this);this.form=new b(c);this.addChild(this.form)};c.prototype.removeForm=function(){a(this)};drillEditor.AppScreen=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.AppScreen_constructor();this.constructScreenUI()}function b(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.NEW_DRILL_BUTTON_CLICK))}function a(){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.MAIN_MENU_LOAD_DRILL_CLICK))}c.prototype.backgroundImage=null;c.prototype.loadQueue=null;c.prototype.topText=null;c.prototype.mainMenuText=null;
    c.prototype.copyrighAndVersionText=null;c.prototype.newDrillButton=null;c.prototype.loadDrillButton=null;var g=createjs.extend(c,drillEditor.AppScreen);g.constructScreenUI=function(){this.backgroundImage=new createjs.Bitmap(drillEditor.DrillEditorApplication.loadQueue.getResult("main-menu-background"));this.addChild(this.backgroundImage);this.topText=new createjs.Text("A place for app or corporate logo","35px Arial","#FFFFFF");this.topText.x=drillEditor.ApplicationModel.APP_WIDTH/2-this.topText.getBounds().width/
        2;this.topText.y=10;this.addChild(this.topText);this.mainMenuText=new createjs.Text("Main menu","30px Arial","#FFFFFF");this.mainMenuText.x=drillEditor.ApplicationModel.APP_WIDTH/2-this.mainMenuText.getBounds().width/2;this.mainMenuText.y=210;this.addChild(this.mainMenuText);this.copyrighAndVersionText=new createjs.Text("Copyright information. Version "+drillEditor.ApplicationModel.VERSION,"14px Arial","#FFFFFF");this.copyrighAndVersionText.x=drillEditor.ApplicationModel.APP_WIDTH-this.copyrighAndVersionText.getBounds().width-
        10;this.copyrighAndVersionText.y=drillEditor.ApplicationModel.APP_HEIGHT-30;this.addChild(this.copyrighAndVersionText);this.newDrillButton=new drillEditor.SimpleTextButton("New drill","25px Arial","#000000","#FFFFFF","#999999","#0000FF",150,45);this.newDrillButton.x=drillEditor.ApplicationModel.APP_WIDTH/2-75;this.newDrillButton.y=260;this.newDrillButton.addEventListener("click",b);this.addChild(this.newDrillButton);this.loadDrillButton=new drillEditor.SimpleTextButton("Load drill","25px Arial","#000000",
        "#FFFFFF","#999999","#0000FF",150,45);this.loadDrillButton.x=drillEditor.ApplicationModel.APP_WIDTH/2-75;this.loadDrillButton.y=this.newDrillButton.y+60;this.loadDrillClickHandler=this.loadDrillButton.on("click",a,this);this.addChild(this.loadDrillButton)};g.destroy=function(){this.AppScreen_destroy();this.newDrillButton.removeAllEventListeners();this.newDrillButton.destroy();this.loadDrillButton.removeAllEventListeners();this.loadDrillButton.off("click",this.loadDrillClickHandler);this.loadDrillButton.destroy();
        console.log("MainMenuScreen.destroy()")};drillEditor.MainMenuScreen=createjs.promote(c,"AppScreen")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.AppScreen_constructor();this.initialize()}c.prototype.backgroundShape=null;c.prototype.exitButton=null;c.prototype.presentation=null;c.prototype.toolBarBounds=null;c.prototype.componentsPalleteBounds=null;c.prototype.pitchBounds=null;c.prototype.pitchOutline=null;c.prototype.pitch=null;c.prototype.toolsPanel=null;c.prototype.componentsPallete=null;c.prototype.presentationController=null;c.prototype.pitchDisplayWidth=0;c.prototype.pitchDisplayHeight=0;c.UI_CONTROLS_MARGIN=
    10;var b=createjs.extend(c,drillEditor.AppScreen);b.initialize=function(){this.presentationController=drillEditor.PresentationController.getInstance();this.backgroundShape=new createjs.Shape;this.backgroundShape.graphics.beginLinearGradientFill(["#1E5799","#7db9e8"],[0,1],0,0,0,drillEditor.ApplicationModel.APP_HEIGHT).drawRect(0,0,drillEditor.ApplicationModel.APP_WIDTH,drillEditor.ApplicationModel.APP_HEIGHT);this.addChild(this.backgroundShape);this.presentationController.componentsPallete||(this.presentationController.componentsPalleteBounds=
    new createjs.Rectangle(drillEditor.ApplicationModel.APP_WIDTH-drillEditor.ComponentsPallete.PANEL_STD_WIDTH-c.UI_CONTROLS_MARGIN,c.UI_CONTROLS_MARGIN,drillEditor.ComponentsPallete.PANEL_STD_WIDTH,drillEditor.ApplicationModel.APP_HEIGHT-2*c.UI_CONTROLS_MARGIN),this.presentationController.componentsPallete=new drillEditor.ComponentsPallete(this.presentationController.componentsPalleteBounds.width,this.presentationController.componentsPalleteBounds.height),this.presentationController.componentsPallete.x=
    this.presentationController.componentsPalleteBounds.x,this.presentationController.componentsPallete.y=this.presentationController.componentsPalleteBounds.y,console.warn("components pallete created"));this.componentsPallete=this.presentationController.componentsPallete;this.addChild(this.componentsPallete);this.presentationController.toolsPanel||(this.presentationController.toolBarBounds=new createjs.Rectangle(c.UI_CONTROLS_MARGIN,c.UI_CONTROLS_MARGIN,drillEditor.ApplicationModel.APP_WIDTH-3*c.UI_CONTROLS_MARGIN-
    drillEditor.ComponentsPallete.PANEL_STD_WIDTH,drillEditor.ToolsPanel.PANEL_STD_HEIGHT),this.presentationController.toolsPanel=new drillEditor.ToolsPanel(this.presentationController.toolBarBounds.width,this.presentationController.toolBarBounds.height),this.presentationController.toolsPanel.x=this.presentationController.toolBarBounds.x,this.presentationController.toolsPanel.y=this.presentationController.toolBarBounds.y,console.warn("tools panel created"));this.toolsPanel=this.presentationController.toolsPanel;
    this.addChild(this.toolsPanel);this.pitchViewportBounds=new createjs.Rectangle(c.UI_CONTROLS_MARGIN,this.presentationController.toolBarBounds.y+this.presentationController.toolBarBounds.height+c.UI_CONTROLS_MARGIN,drillEditor.ApplicationModel.APP_WIDTH-3*c.UI_CONTROLS_MARGIN-drillEditor.ComponentsPallete.PANEL_STD_WIDTH,drillEditor.ApplicationModel.APP_HEIGHT-3*c.UI_CONTROLS_MARGIN-drillEditor.ToolsPanel.PANEL_STD_HEIGHT);this.pitch=new drillEditor.Pitch;this.addChild(this.pitch);drillEditor.PresentationController.getInstance().setView(this.pitch);
    this.pitchOutline=new createjs.Shape;this.pitchOutline.graphics.clear();this.pitchOutline.graphics.setStrokeStyle(1);this.pitchOutline.graphics.beginStroke("#FFFFFF").drawRect(0,0,this.pitchViewportBounds.width,this.pitchViewportBounds.height);this.pitchOutline.x=this.pitchViewportBounds.x;this.pitchOutline.y=this.pitchViewportBounds.y;this.pitchOutline.visible=!1;this.addChild(this.pitchOutline);this.presentationController.presentation.pitchWidth&&this.presentationController.presentation.pitchHeight?
        this.createPitchView():this.showForm(drillEditor.PitchSizeInputFormHTML,{positiveCallback:this.sizeInputPositiveCallback,negativeCallback:this.sizeInputNegativeCallback,callbackScope:this})};b.sizeInputPositiveCallback=function(a,b){this.removeForm();this.presentationController.presentation.pitchWidth=a;this.presentationController.presentation.pitchHeight=b;this.createPitchView()};b.sizeInputNegativeCallback=function(){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.SHOW_SCREEN,
    {screenId:drillEditor.AppScreen.MAIN_MENU}))};b.createPitchView=function(){var a=this.presentationController.presentation.pitchWidth/this.presentationController.presentation.pitchHeight;this.presentationController.presentation.pitchWidth>this.presentationController.presentation.pitchHeight?(this.pitchDisplayWidth=this.pitchViewportBounds.width,this.pitchDisplayHeight=this.pitchDisplayWidth/a):(this.pitchDisplayHeight=this.pitchViewportBounds.height,this.pitchDisplayWidth=a*this.pitchDisplayHeight);
    this.pitchDisplayHeight>this.pitchViewportBounds.height?(a=this.pitchDisplayHeight,this.pitchDisplayHeight=this.pitchViewportBounds.height,this.pitchDisplayWidth=this.pitchDisplayWidth/a*this.pitchDisplayHeight):this.pitchDisplayWidth>this.pitchViewportBounds.width&&(a=this.pitchDisplayWidth,this.pitchDisplayWidth=this.pitchViewportBounds.width,this.pitchDisplayHeight=this.pitchDisplayWidth/(a/this.pitchDisplayHeight));drillEditor.ApplicationModel.getInstance().mpp=this.presentationController.presentation.pitchWidth/
        this.pitchDisplayWidth;this.pitch.setSize(this.pitchDisplayWidth,this.pitchDisplayHeight);this.pitch.x=this.pitchViewportBounds.x+this.pitchViewportBounds.width/2-this.pitchDisplayWidth/2;this.pitch.y=this.pitchViewportBounds.y+this.pitchViewportBounds.height/2-this.pitchDisplayHeight/2;console.warn("pitch size ratio = "+Number(this.pitchDisplayWidth/this.pitchDisplayHeight).toFixed(4));drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.PITCH_VIEW_CREATED))};
    b.destroy=function(){this.AppScreen_destroy();this.contains(this.componentsPallete)&&(this.removeChild(this.componentsPallete),console.log("components pallete removed from screen"));this.contains(this.toolsPanel)&&(this.removeChild(this.toolsPanel),console.log("tools panel removed from screen"));console.log("Editor destroyed")};drillEditor.Editor=createjs.promote(c,"AppScreen")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,l,e,d,f,h,k){this.Container_constructor();this.label=a;this.labelFont=b?b:c.DEFAULT_FONT;this.labelColor=l?l:c.DEFAULT_TEXT_COLOR;this.upColor=e;this.downColor=d;this.overColor=f;this.buttonWidth=h?h:null;this.buttonHeight=k?k:null;this.applicationModel=drillEditor.ApplicationModel.getInstance();this.setup()}c.DEFAULT_FONT="20px Arial";c.DEFAULT_TEXT_COLOR="#000000";c.prototype.buttonWidth=null;c.prototype.buttonHeight=null;c.prototype.background=null;c.prototype.text=null;
    var b=createjs.extend(c,createjs.Container);b.setup=function(){this.text=new createjs.Text(this.label,this.labelFont,this.labelColor);this.text.textBaseline="top";this.text.textAlign="center";if(null==this.buttonWidth||void 0==this.buttonWidth)this.buttonWidth=this.text.getMeasuredWidth()+30;this.buttonHeight=this.buttonHeight?this.buttonHeight:this.text.getMeasuredHeight()+20;this.text.x=this.buttonWidth/2;this.text.y=10;this.background=new createjs.Shape;this.background.graphics.beginFill(this.upColor).drawRoundRect(0,
        0,this.buttonWidth,this.buttonHeight,10);this.addChild(this.background,this.text);this.on("mousedown",this.handleMouseDown);this.on("pressup",this.handlePressUp);this.on("click",this.handleClick);this.cursor="pointer";this.mouseChildren=!1;this.offset=10*Math.random();this.count=0;this.setBounds(0,0,this.buttonWidth,this.buttonHeight)};b.handleMouseDown=function(a){this.setState("down")};b.handlePressUp=function(a){this.setState("up")};b.handleClick=function(a){};b.handleRollOver=function(a){};b.handleRollOut=
        function(a){};c.prototype.setState=function(a){var b;switch(a){case "down":b=this.downColor;break;case "up":b=this.upColor}b&&(this.background.graphics.clear(),this.background.graphics.beginFill(b).drawRoundRect(0,0,this.buttonWidth,this.buttonHeight,10))};c.prototype.destroy=function(){this.removeAllEventListeners()};c.prototype.clickHandler=function(a){};drillEditor.SimpleTextButton=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a){this.Container_constructor();this.initParams=a?a:{};this.positiveCallback=this.initParams.positiveCallback;this.negativeCallback=this.initParams.negativeCallback;this.constructForm()}c.prototype.initParams;c.prototype.positiveCallback;c.prototype.negativeCallback;var b=createjs.extend(c,createjs.Container);b.destroy=function(){this.negativeCallback=this.positiveCallback=this.initParams=null};b.constructForm=function(){};drillEditor.Form=createjs.promote(c,"Container")})();
this.drillEditor=this.drillEditor||{};
(function(){function c(a){this.Form_constructor(a)}c.prototype.formHTMLElement=null;c.prototype.formDOMElement=null;c.prototype.selectedPresentationData=null;c.prototype.backButton=null;c.prototype.loadButton=null;var b=createjs.extend(c,drillEditor.Form);b.constructForm=function(){this.Form_constructForm();this.formHTMLElement=jQuery.parseHTML("<div id='loadDrillView' class='drill-editor-app-form'> <div class='form-back-button'> <button id='loadDrillViewBackButton' type='button' class='btn btn-default'> <span class='glyphicon glyphicon-chevron-left' aria-hidden='true'></span>Back </button> </div> <div class='outer'> <div class='middle'> <div class='panel panel-default load-pitch-panel'> <h3 class='load-drill-form-h3'>Load drill</h3> <div class='load-pitch-container'> <div class='list-group load-pitch-list media'> </div> </div> <div class='load-pitch-form-load-btn-container'> <a class='btn disabled btn-default load-pitch-form-load-btn' href='#' role='button'>Load</a> </div> </div> </div> </div> </div>")[0];$("#appContainer").append(this.formHTMLElement);
    this.backButton=$("#loadDrillViewBackButton");this.backButton.click(this,function(a){a=a.data;a.negativeCallback&&a.negativeCallback.call(a.initParams.callbackScope);drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.HIDE_CURRENT_FORM))});this.loadButton=$(".load-pitch-form-load-btn");this.loadButton.click(this,function(a){a=a.data;drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.HIDE_CURRENT_FORM));
        drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.LOAD_DRILL_BUTTON_CLICK,{drillId:a.selectedPresentationData.drillId}))});for(var a=0;a<drillEditor.ApplicationModel.getInstance().savedDrills.length;a++){var b=drillEditor.ApplicationModel.getInstance().savedDrills[a];$(".load-pitch-list").append("<a href='#' class='list-group-item'> <div class='media-left'> <img class='media-object load-pitch-form-thumb-image' src=''> </div> <div class='media-body'> <h4 class='list-group-item-heading drill-name-label'></h4> <p class='list-group-item-text load-drill-view-size-label'></p> <p class='list-group-item-text load-drill-view-last-edit-label'></p> </div> </a>");
        var c=$($(".load-pitch-list .list-group-item:last")[0]);c.find(".drill-name-label").text(b.displayName);c.find(".load-drill-view-size-label").text("drillEditor.Pitch size: "+b.pitchWidth+" x "+b.pitchHeight+" meters");c.find(".load-drill-view-last-edit-label").text("Last modified: "+b.lastModified);c.find(".load-pitch-form-thumb-image").attr("src",b.thumbURL);c.click({thisScope:this,presentationData:b},function(a){var b=a.data.thisScope;$(this).addClass("active").siblings().removeClass("active");
            b.setSelectedPresentationData(a.data.presentationData)})}this.formDOMElement=new createjs.DOMElement(this.formHTMLElement)};b.setSelectedPresentationData=function(a){(this.selectedPresentationData=a)&&this.loadButton.removeClass("disabled")};b.destroy=function(){this.Form_destroy();this.backButton.off();this.loadButton.off();$(".load-pitch-list .list-group-item").off();$("#loadDrillView").remove();this.removeChild(this.formDOMElement);this.formDOMElement=null};drillEditor.LoadDrillView=createjs.promote(c,
    "Form")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a){this.Form_constructor(a)}c.prototype.formHTMLElement;c.prototype.formDOMElement;var b=createjs.extend(c,drillEditor.Form);b.constructForm=function(){this.Form_constructForm();this.formHTMLElement=jQuery.parseHTML("<div id='pitchSizeInputFormHTML' style='position:absolute;left:0px;top:0px;width: 800px;height: 600px;background: #ffffff;'> <div style='position: absolute; padding-top: 10px; padding-left: 10px '> <button id='pitchInputFormBackButton' type='button' class='btn btn-default'> <span class='glyphicon glyphicon-chevron-left' aria-hidden='true'></span>Back </button> </div><div class='outer'> <div class='middle'> <div class='inner'> <div class='container' style='width: inherit; height: 290px; background: #cccccc'> <h2 style='text-align: center'>Enter pitch size</h2> <form role='form'> <div class='form-group'> <label>Width:</label> <input class='form-control' id='pitch_width_input' placeholder='Enter width in meters'> </div><div class='form-group'> <label>Height:</label> <input type='height' id='pitch_height_input' class='form-control' placeholder='Enter height in meters'> </div><div class='checkbox'> <label> <input id='pitchInputFormUseDefaultCb' type='checkbox'>Use default size - 105 by 68 metres </label> </div><button id='pitchInputFormProceedButton' type='button' class='btn btn-primary btn-block'>Apply and proceed</button> </form> </div></div></div></div></div>")[0];$("#appContainer").append(this.formHTMLElement);
    $("#pitchInputFormBackButton").click(this,function(a){a=a.data;a.negativeCallback&&a.negativeCallback.call(a.initParams.callbackScope);drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.HIDE_CURRENT_FORM))});$("#pitchInputFormUseDefaultCb").change(function(){this.checked&&($("#pitch_width_input").val(drillEditor.ApplicationModel.DEFAULT_PITCH_WIDTH_METERS),$("#pitch_height_input").val(drillEditor.ApplicationModel.DEFAULT_PITCH_HEIGHT_METERS))});
    $("#pitchInputFormProceedButton").click(this,function(a){var b=Number($("#pitch_width_input").val()),c=Number($("#pitch_height_input").val());a=a.data;a.initParams.positiveCallback&&a.initParams.positiveCallback.call(a.initParams.callbackScope,b,c)});this.formDOMElement=new createjs.DOMElement(this.formHTMLElement)};b.destroy=function(){this.Form_destroy();$("#pitchInputFormBackButton").unbind();$("#pitchInputFormUseDefaultCb").unbind();$("#pitchSizeInputFormHTML").remove();this.removeChild(this.formDOMElement);
    this.formDOMElement=null};drillEditor.PitchSizeInputFormHTML=createjs.promote(c,"Form")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a){this.Form_constructor(a)}c.prototype.formHTMLElement;c.prototype.formDOMElement;var b=createjs.extend(c,drillEditor.Form);b.constructForm=function(){this.Form_constructForm();var a=this.initParams?this.initParams.headerText:" ";this.formHTMLElement=jQuery.parseHTML("<div id='progressBarForm' class='progress-bar-form'> <div class='outer'> <div class='middle'> <div class='panel panel-default progress-bar-panel'> <h3 class='progress-bar-form-h3'></h3> <div class='progress' style='margin-left: 10px; margin-right: 10px'> <div class='progress-bar progress-bar-striped active' role='progressbar' aria-valuenow='100' aria-valuemin='0' aria-valuemax='100' style='width: 100%'> </div> </div> </div> </div> </div></div>")[0];$("#appContainer").append(this.formHTMLElement);
    $("#progressBarForm .progress-bar-form-h3").text(a);this.formDOMElement=new createjs.DOMElement(this.formHTMLElement)};b.destroy=function(){this.Form_destroy();$("#progressBarForm").remove();this.removeChild(this.formDOMElement);this.formDOMElement=null};drillEditor.ProgressBarForm=createjs.promote(c,"Form")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a){this.Form_constructor(a)}c.prototype.formHTMLElement=null;c.prototype.formDOMElement=null;c.prototype.okButton=null;var b=createjs.extend(c,drillEditor.Form);b.constructForm=function(){this.Form_constructForm();this.formHTMLElement=jQuery.parseHTML("<div id='error-dialog-form' class='dialog-form'> <div class='outer'> <div class='middle'> <div class='panel panel-danger dialog-panel'> <div id='error-dialog-header' class='panel-heading'>Error</div> <div class='panel-body' style='text-align: center'> <p id='error-dialog-label'></p> <button id='error-dialog-button' type='button' class='btn btn-default'> OK </button> </div> </div> </div> </div></div>");
    $("#appContainer").append(this.formHTMLElement);$("#error-dialog-label").text(this.initParams.errorMessage);this.formDOMElement=new createjs.DOMElement(this.formHTMLElement)};b.destroy=function(){this.Form_destroy();$("#errorDialogForm").remove();this.removeChild(this.formDOMElement);this.formDOMElement=null};drillEditor.ErrorDialogForm=createjs.promote(c,"Form")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b){this.Container_constructor();this.componentWidth=a;this.componentHeight=b;this.applicationModel=drillEditor.ApplicationModel.getInstance();this.initialize()}function b(){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.BACK_BUTTON_CLICK))}function a(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.COPY_ELEMENT_BUTTON_CLICK))}
    function g(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.PASTE_ELEMENT_BUTTON_CLICK))}function l(a){this.updateDynamicButtons(a.payload.data)}function e(a){this.updateDynamicButtons(a.payload.data&&a.payload.data.rendererData?a.payload.data.rendererData:null)}function d(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.DELETE_ELEMENT))}function f(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.SWAP_DIRECTIONS_BUTTON_CLICK))}
    c.prototype.background=null;c.prototype.componentWidth=null;c.prototype.componentHeight=null;c.prototype.backButton=null;c.prototype.saveButton=null;c.prototype.dynamicButtons=null;c.prototype.dynamicButtonsInitX=null;c.PANEL_STD_HEIGHT=50;c.BUTTON_INTERVAL=10;var h=createjs.extend(c,createjs.Container);h.initialize=function(){this.background=new createjs.Shape;this.background.graphics.beginFill("#dddddd").drawRect(0,0,this.componentWidth,this.componentHeight);this.addChild(this.background);this.dynamicButtons=
        [];this.applicationModel.appMode==drillEditor.ApplicationModel.NEW_DRILL_APP_MODE?(this.backButton=new drillEditor.SimpleTextButton("Back","16px Arial","#000000","#FFFFFF","#999999","#0000FF",50,36),this.backButton.setBounds(0,0,50,20),this.backButton.x=c.BUTTON_INTERVAL,this.backButton.y=5,this.backButton.on("click",b,this),this.addChild(this.backButton),this.dynamicButtonsInitX=this.backButton.x+this.backButton.getBounds().width+c.BUTTON_INTERVAL):this.dynamicButtonsInitX=c.BUTTON_INTERVAL;this.swapDirectionsButton=
        new drillEditor.SimpleTextButton("Swap directions","16px Arial","#000000","#FFFFFF","#999999","#0000FF",140,36);this.swapDirectionsButton.setBounds(0,0,140,20);this.swapDirectionsButton.y=5;this.swapDirectionsButton.on("click",f,this);this.copyButton=new drillEditor.SimpleTextButton("Copy","16px Arial","#000000","#FFFFFF","#999999","#0000FF",60,36);this.copyButton.setBounds(0,0,60,20);this.copyButton.y=5;this.copyButton.on("click",a,this);this.deleteButton=new drillEditor.SimpleTextButton("Delete",
        "16px Arial","#000000","#FFFFFF","#999999","#0000FF",60,36);this.deleteButton.setBounds(0,0,60,20);this.deleteButton.y=5;this.deleteButton.on("click",d,this);this.pasteButton=new drillEditor.SimpleTextButton("Paste","16px Arial","#000000","#FFFFFF","#999999","#0000FF",60,36);this.pasteButton.setBounds(0,0,60,20);this.pasteButton.y=5;this.pasteButton.on("click",g,this);drillEditor.Dispatcher.getInstance().on(drillEditor.ApplicationEvent.ELEMENT_SELECTED,e,this);drillEditor.Dispatcher.getInstance().on(drillEditor.PresentationViewEvent.ELEMENT_COPIED_TO_CLIPBOARD,
        l,this)};h.updateDynamicButtons=function(a){this.dynamicButtons.forEach(function(a,b,c){a.stage&&this.removeChild(a)},this);this.dynamicButtons=[];if(a){switch(a.type){case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:case drillEditor.GraphicElementType.DRIBBLING_PLAYER:case drillEditor.GraphicElementType.PLAYER_MOVEMENT:case drillEditor.GraphicElementType.BALL_MOVEMENT:this.dynamicButtons.push(this.swapDirectionsButton)}this.dynamicButtons.push(this.copyButton);this.dynamicButtons.push(this.deleteButton)}drillEditor.Clipboard.data&&
    this.dynamicButtons.push(this.pasteButton);if(0<this.dynamicButtons.length){this.dynamicButtons.reverse();var b=this.dynamicButtonsInitX;this.dynamicButtons.forEach(function(a,d,e){a.x=b;this.addChild(a);b+=a.getBounds().width+c.BUTTON_INTERVAL},this)}};drillEditor.ToolsPanel=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.Container_constructor();this.initialize()}function b(a){this.target.container.rotation=this.rotationTool.angle;this.target.rendererData.setRotation(this.rotationTool.angle,!0)}function a(a){this.outline.rotation=this.target.rendererData.rotation}function g(a){this.setTarget(a.payload.data)}c.prototype.target;c.prototype.outline;c.prototype.scaleControl;c.prototype.rotationControl;c.prototype.rotationTool;c.prototype.scalePropotionally;c.prototype.lineDragControl1;c.prototype.lineDragControl2;
    c.OUTLINE_STROKE_SIZE=2;c.OUTLINE_STROKE_COLOR="#FF0000";c.SCALE_CONTROL_SIZE=16;c.LINE_CONTROL_SIZE=18;var l=createjs.extend(c,createjs.Container);l.initialize=function(){this.outline=new createjs.Shape;this.addChild(this.outline);var a=new createjs.Bitmap(drillEditor.DrillEditorApplication.loadQueue.getResult("rotation-icon"));a.x=-16;a.y=-16;this.rotationControl=new createjs.Container;this.rotationControl.addChild(a);this.rotationControl.setBounds(-16,-16,32,32);this.rotationControl.cursor="pointer";
        this.rotationControl.snapToPixel=!0;this.rotationTool=new drillEditor.RotationTool(0,0,this.rotationControl,0);this.rotationTool.visible=!1;this.rotationTool.on("change",b,this);this.addChild(this.rotationTool);this.scaleControl=new createjs.Shape;this.scaleControl.graphics.beginFill("rgba(255,0,0,0.5)");this.scaleControl.graphics.drawRect(0,0,c.SCALE_CONTROL_SIZE,c.SCALE_CONTROL_SIZE);this.scaleControl.on("mousedown",function(a){this.scaleControlOffsetX=a.localX;this.scaleControlOffsetY=a.localY},
            this);this.scaleControl.pressMoveHandler=this.scaleControl.on("pressmove",function(a){this.scaleControl.visible=!0;var b=this.target.getContentBounds(),e=this.globalToLocal(a.stageX,a.stageY);a=this.target.getMinimalSize();var g=e.x-this.scaleControlOffsetX+c.SCALE_CONTROL_SIZE/2-b.x,b=e.y-b.y-this.scaleControlOffsetY+c.SCALE_CONTROL_SIZE/2;this.scalePropotionally&&(b=g=Math.min(g,b));g<a.x&&(g=a.x);b<a.y&&(b=a.y);this.target.rendererData.resize(g,b);this.redraw()},this);this.scaleControl.visible=
            !1;this.addChild(this.scaleControl);this.lineDragControl1=new createjs.Shape;this.lineDragControl1.graphics.beginFill("rgba(255,0,0,0.5)").drawCircle(0,0,c.LINE_CONTROL_SIZE/2,c.LINE_CONTROL_SIZE/2);this.lineDragControl1.visible=!1;this.lineDragControl1.on("mousedown",function(a){this.lineDragOffsetX=a.localX;this.lineDragOffsetY=a.localY},this);this.lineDragControl1.on("pressmove",function(a){a=this.globalToLocal(a.stageX,a.stageY);a=new createjs.Point(a.x-this.lineDragOffsetX,a.y-this.lineDragOffsetY);
            this.target.rendererData.setStartPoint(a);this.redraw()},this);this.addChild(this.lineDragControl1);this.lineDragControl2=new createjs.Shape;this.lineDragControl2.graphics.beginFill("rgba(255,0,0,0.5)").drawCircle(0,0,c.LINE_CONTROL_SIZE/2,c.LINE_CONTROL_SIZE/2);this.lineDragControl2.visible=!1;this.addChild(this.lineDragControl2);this.lineDragControl2.on("mousedown",function(a){this.lineDragOffsetX=a.localX;this.lineDragOffsetY=a.localY},this);this.lineDragControl2.on("pressmove",function(a){a=this.globalToLocal(a.stageX,
            a.stageY);a=new createjs.Point(a.x-this.lineDragOffsetX,a.y-this.lineDragOffsetY);this.target.rendererData.setEndPoint(a);this.redraw()},this);drillEditor.Dispatcher.getInstance().on(drillEditor.ApplicationEvent.ELEMENT_SELECTED,g,this)};l.setTarget=function(b){if(this.target!=b&&(this.target&&this.removeTarget(),this.target=b)){switch(this.target.rendererData.type){case drillEditor.GraphicElementType.RECTANGLE:this.scaleControl.visible=!0;break;case drillEditor.GraphicElementType.SQUARE:this.scalePropotionally=
        this.scaleControl.visible=!0;break;case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:case drillEditor.GraphicElementType.GOAL:this.rotationTool.visible=!0;break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:case drillEditor.GraphicElementType.PLAYER_MOVEMENT:case drillEditor.GraphicElementType.BALL_MOVEMENT:this.lineDragControl1.visible=!0,this.lineDragControl2.visible=!0}this.elementMoveHandler=this.target.on(drillEditor.ApplicationEvent.ELEMENT_MOVE,this.redraw,this);this.elementRotateHandler=
        this.target.rendererData.on(drillEditor.ApplicationEvent.ELEMENT_ROTATION_CHANGED,a,this);this.redraw()}};l.removeTarget=function(){this.target.off(drillEditor.ApplicationEvent.ELEMENT_MOVE,this.elementMoveHandler);this.outline.graphics.clear();this.scalePropotionally=this.scaleControl.visible=!1;this.rotationTool.visible=!1;this.lineDragControl1.visible=!1;this.lineDragControl2.visible=!1};l.redraw=function(){var a=this.target.getContentBounds();drillEditor.DrawingUtils.drawStrictSizeRectangle(this.outline.graphics,
        -c.OUTLINE_STROKE_SIZE,-c.OUTLINE_STROKE_SIZE,2*c.OUTLINE_STROKE_SIZE+a.width,2*c.OUTLINE_STROKE_SIZE+a.height,c.OUTLINE_STROKE_SIZE,c.OUTLINE_STROKE_COLOR);if(this.target.isInteractiveLine){var b="endPoint"==this.target.contentRegPoint?this.target.rendererData.endPoint:this.target.rendererData.startPoint;this.outline.x=b.x;this.outline.y=b.y;this.outline.regY=a.height/2;this.outline.regX="endPoint"==this.target.contentRegPoint?this.target.rendererData.lineWidth:0;this.outline.rotation=this.target.rendererData.angle}else this.outline.x=
        a.x+a.width/2,this.outline.y=a.y+a.height/2,this.outline.regX=a.width/2,this.outline.regY=a.height/2,this.outline.rotation=this.target.rendererData.rotation;this.scaleControl.visible&&(this.scaleControl.x=a.x+a.width+c.OUTLINE_STROKE_SIZE-10-1,this.scaleControl.y=a.y+a.height+c.OUTLINE_STROKE_SIZE-10-1);if(this.lineDragControl1.visible){var f=this.target.getPointsInStageCS(),b=this.globalToLocal(f.startPoint.x,f.startPoint.y),f=this.globalToLocal(f.endPoint.x,f.endPoint.y);this.lineDragControl1.x=
        b.x;this.lineDragControl1.y=b.y;this.lineDragControl2.x=f.x;this.lineDragControl2.y=f.y}this.rotationTool.visible&&(this.rotationTool.x=this.target.x,this.rotationTool.y=this.target.y,this.rotationTool.setRadius(a.width/2+10,a.width/2+10),this.rotationTool.updatePositionFromDegree(this.target.rendererData.rotation))};drillEditor.TransformTool=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c,e){this.Container_constructor();this.controlLine=new createjs.Shape;this.controlLine.graphics.setStrokeStyle(2);this.controlLine.graphics.beginStroke("#FF0000");this.controlLine.graphics.moveTo(-26,0);this.controlLine.graphics.lineTo(0,0);this.handler=c;this.handlerWidth=this.handler.getBounds().width;this.addChild(this.handler);this.handler.addChildAt(this.controlLine,0);this.setHandlerListeners();this.angle=e;a&&b&&(this.setRadius(a,b),this.updatePositionFromDegree(this.angle))}
    c.prototype.radiusX;c.prototype.radiusY;c.prototype.handler;c.prototype.direction;c.prototype.mouseAngle;c.prototype.handlerWidth;c.prototype.angle=0;c.prototype.controlLine;var b=createjs.extend(c,createjs.Container);b.setRadius=function(a,b){this.radiusX=a;this.radiusY=b;var c=this.getSectorPoint(this.angle,this.radiusX+this.handlerWidth/2,this.radiusY+this.handlerWidth/2);this.handler.x=c.x;this.handler.y=c.y};b.updatePosition=function(){var a=this.globalToLocal(window.stage.mouseX,window.stage.mouseY);
        this.mouseAngle=Math.atan2(a.y,a.x)/Math.PI*180;this.updatePositionFromDegree(this.mouseAngle);this.dispatchEvent(new Event("change"))};b.updatePositionFromDegree=function(a){this.angle=a;a=this.getSectorPoint(this.angle,this.radiusX+this.handlerWidth/2,this.radiusY+this.handlerWidth/2);this.handler.x=a.x;this.handler.y=a.y;this.handler.rotation=this.angle};b.getSectorPoint=function(a,b,c){return new createjs.Point(b*Math.cos(a*Math.PI/180),c*Math.sin(a*Math.PI/180))};b.setHandlerListeners=function(){this.handler.on("pressmove",
        function(a){this.updatePosition()},this)};drillEditor.RotationTool=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b){this.panelWidth=a;this.panelHeight=b;this.Container_constructor();this.initialize()}function b(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_GOAL_CLICK))}function a(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_RECTANGLE_CLICK))}function g(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_SQUARE_CLICK))}
    function l(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_ATTACKER_CLICK))}function e(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_DEFENDER_CLICK))}function d(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_EXTRA_TEAM_CLICK))}function f(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_NEUTRAL_PLAYER_CLICK))}
    function h(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_CONE_CLICK))}function k(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_ARC_CLICK))}function m(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_DRIBBLING_CLICK))}function n(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_PLAYER_PATH_CLICK))}
    function p(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_BALL_PATH_CLICK))}function r(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_BALL_CLICK))}function q(a){this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.CREATE_BALLS_SUPPLY_CLICK))}c.BACKGROUND_COLOR="#dddddd";c.PANEL_STD_WIDTH=115;createjs.extend(c,createjs.Container).initialize=
        function(){this.dispatcher=drillEditor.Dispatcher.getInstance();this.background=new createjs.Shape;this.background.graphics.beginFill(c.BACKGROUND_COLOR).drawRect(0,0,this.panelWidth,this.panelHeight);this.addChild(this.background);this.rectButton=new drillEditor.SimpleTextButton("Rectangle","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.rectButton.x=5;this.rectButton.y=5;this.rectButton.on("click",a,this);this.addChild(this.rectButton);this.boxButton=new drillEditor.SimpleTextButton("Square",
            "16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.boxButton.x=5;this.boxButton.y=this.rectButton.y+this.rectButton.getBounds().height+5;this.boxButton.on("click",g,this);this.addChild(this.boxButton);this.attackerButton=new drillEditor.SimpleTextButton("Attacker","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.attackerButton.x=5;this.attackerButton.y=this.boxButton.y+this.boxButton.getBounds().height+5;this.attackerButton.on("click",l,this);this.addChild(this.attackerButton);
            this.defenderButton=new drillEditor.SimpleTextButton("Defender","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.defenderButton.x=5;this.defenderButton.y=this.attackerButton.y+this.attackerButton.getBounds().height+5;this.defenderButton.on("click",e,this);this.addChild(this.defenderButton);this.extraTeamButton=new drillEditor.SimpleTextButton("Extra","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.extraTeamButton.x=5;this.extraTeamButton.y=this.defenderButton.y+
                this.defenderButton.getBounds().height+5;this.extraTeamButton.on("click",d,this);this.addChild(this.extraTeamButton);this.neutralPlayerButton=new drillEditor.SimpleTextButton("Neutral","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.neutralPlayerButton.x=5;this.neutralPlayerButton.y=this.extraTeamButton.y+this.extraTeamButton.getBounds().height+5;this.neutralPlayerButton.on("click",f,this);this.addChild(this.neutralPlayerButton);this.coneButton=new drillEditor.SimpleTextButton("Cone",
                "16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.coneButton.x=5;this.coneButton.y=this.neutralPlayerButton.y+this.neutralPlayerButton.getBounds().height+5;this.coneButton.on("click",h,this);this.addChild(this.coneButton);this.arcButton=new drillEditor.SimpleTextButton("Arcuate mvm","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.arcButton.x=5;this.arcButton.y=this.coneButton.y+this.coneButton.getBounds().height+5;this.arcButton.on("click",k,this);this.addChild(this.arcButton);
            this.dribblingButton=new drillEditor.SimpleTextButton("Dribbling","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.dribblingButton.x=5;this.dribblingButton.y=this.arcButton.y+this.arcButton.getBounds().height+5;this.dribblingButton.on("click",m,this);this.addChild(this.dribblingButton);this.playerMvmButton=new drillEditor.SimpleTextButton("Player path","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.playerMvmButton.x=5;this.playerMvmButton.y=this.dribblingButton.y+
                this.playerMvmButton.getBounds().height+5;this.playerMvmButton.on("click",n,this);this.addChild(this.playerMvmButton);this.ballMvmButton=new drillEditor.SimpleTextButton("Ball path","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.ballMvmButton.x=5;this.ballMvmButton.y=this.playerMvmButton.y+this.ballMvmButton.getBounds().height+5;this.ballMvmButton.on("click",p,this);this.addChild(this.ballMvmButton);this.ballButton=new drillEditor.SimpleTextButton("Ball","16px Arial","#000000",
                "#FFFFFF","#999999","#0000FF",105,36);this.ballButton.x=5;this.ballButton.y=this.ballMvmButton.y+this.ballButton.getBounds().height+5;this.ballButton.on("click",r,this);this.addChild(this.ballButton);this.ballSupplyButton=new drillEditor.SimpleTextButton("Ball supply","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.ballSupplyButton.x=5;this.ballSupplyButton.y=this.ballButton.y+this.ballSupplyButton.getBounds().height+5;this.ballSupplyButton.on("click",q,this);this.addChild(this.ballSupplyButton);
            this.goalButton=new drillEditor.SimpleTextButton("Goal","16px Arial","#000000","#FFFFFF","#999999","#0000FF",105,36);this.goalButton.x=5;this.goalButton.y=this.ballSupplyButton.y+this.ballSupplyButton.getBounds().height+5;this.goalButton.on("click",b,this);this.addChild(this.goalButton)};drillEditor.ComponentsPallete=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(c,e){this.Container_constructor();b(c,e)&&(this.componentWidth=c,this.componentHeight=e,void 0!=this.componentWidth&&void 0!=this.componentHeight&&(this.update=!0));this.elements=[];this.backgroundShape=new createjs.Shape;this.backgroundShape.on("mousedown",g,this);this.addChild(this.backgroundShape);this.backgroundOutline=new createjs.Shape;this.addChild(this.backgroundOutline);this.backgroundShapeMask=new createjs.Shape;this.elementsLayer=new createjs.Container;this.elementsLayer.mask=
    this.backgroundShapeMask;this.addChild(this.elementsLayer);this.transformToolMask=new createjs.Shape;this.transformTool=new drillEditor.TransformTool;this.transformTool.mask=this.transformToolMask;this.addChild(this.transformTool);this.dispatcher=drillEditor.Dispatcher.getInstance();a.call(this)}function b(a,b){return void 0!=a&&null!=a&&0<a&&void 0!=b&&null!=b&&0<b}function a(){this.update&&(this.backgroundShape.graphics.clear(),this.backgroundShape.graphics.beginFill("#99CA3B"),this.backgroundShape.graphics.drawRect(0,
    0,this.componentWidth,this.componentHeight),this.backgroundOutline.graphics.clear(),this.backgroundOutline.graphics.setStrokeStyle(2),this.backgroundOutline.graphics.beginStroke("#FFFFFF"),this.backgroundOutline.graphics.drawRect(0,0,this.componentWidth,this.componentHeight),this.backgroundShapeMask.graphics.clear(),this.backgroundShapeMask.graphics.beginFill("#FF0000"),this.backgroundShapeMask.graphics.drawRect(0,0,this.componentWidth,this.componentHeight),this.transformToolMask.graphics.clear(),
    this.transformToolMask.graphics.beginFill("#FFFFFF"),this.transformToolMask.graphics.drawRect(0,0,this.componentWidth,this.componentHeight))}function g(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:null}))}c.prototype.componentWidth=null;c.prototype.componentHeight=null;c.prototype.backgroundShape=null;c.prototype.backgroundShapeMask=null;c.prototype.backgroundOutline=null;c.prototype.update=!1;c.prototype.dispatcher=
    null;c.prototype.elementsLayer=null;c.prototype.elements=null;c.prototype.transformTool=null;c.prototype.selectedElement=null;c.prototype.transformToolMask=null;createjs.extend(c,createjs.Container).setSize=function(c,e){!b(c,e)||c==this.componentWidth&&e==this.componentHeight||(this.componentWidth=c,this.componentHeight=e,this.update=!0);a.call(this)};drillEditor.Pitch=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.Container_constructor();this.initialize()}c.prototype._data=null;c.prototype.needRender=null;c.prototype.positionChanged=null;c.prototype._x=null;c.prototype._y=null;c.rendererData=null;c.container=null;c.dispatcher=null;var b=createjs.extend(c,createjs.Container);b.f=function(){};b.initialize=function(){this.dispatcher=drillEditor.Dispatcher.getInstance();this.container=new createjs.Container;this.addChild(this.container);this.BaseComponentRenderer_mouseDownHandler=
    this.on("mousedown",function(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:this}));this.offset={x:this.x-a.stageX,y:this.y-a.stageY}},this);this.BaseComponentRenderer_pressMoveHandler=this.on("pressmove",function(a){this.x=a.stageX+this.offset.x;this.y=a.stageY+this.offset.y;this._data.position.setValues(this.x,this.y);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_MOVE))})};
    b.render=function(){};b.getMinimalSize=function(){};b.getBounds=function(){return new createjs.Rectangle(this._data.position.x,this._data.position.y,this._data.width,this._data.height)};b.destroy=function(){this.off("mousedown",this.BaseComponentRenderer_mouseDownHandler);this.off("pressmove",this.BaseComponentRenderer_pressMoveHandler);this.removeData()};b.setRendererData=function(a){this._data!=a&&(this._data&&this.removeData(),this.rendererData=this._data=a)&&(this.addData(),this.invalidateGraphic(),
        this.onPositionChanged())};b.getRendererData=function(){return this._data};b.invalidateGraphic=function(){this.needRender=!0;this.render()};b.onPositionChanged=function(a){};b.removeData=function(){this._data&&(this._data.off(drillEditor.ApplicationEvent.ELEMENT_RESIZE,this.BaseComponentRenderer_elementResizeHandler),this._data.off(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,this.graphicPropertyChangeHandler))};b.addData=function(){this.BaseComponentRenderer_elementResizeHandler=this._data.on(drillEditor.ApplicationEvent.ELEMENT_RESIZE,
        this.render,this);this.BaseComponentRenderer_graphicPropertyChanged=this._data.on(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,this.graphicPropertyChangeHandler,this)};b.graphicPropertyChangeHandler=function(a){};drillEditor.BaseComponentRenderer=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.MIN_WIDTH=75;c.MIN_HEIGH=50;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.outlineShape=new createjs.Shape;this.addChild(this.outlineShape);this.widthRuler=new drillEditor.SizeHint;this.widthRuler.y=-17;this.addChild(this.widthRuler);this.heightRuler=new drillEditor.SizeHint;this.heightRuler.x=-17;this.heightRuler.rotation=-90;this.addChild(this.heightRuler);
    console.log("RectComponent.initialize()")};b.getContentBounds=function(){var a=this.localToLocal(0,0,this.parent);return new createjs.Rectangle(a.x,a.y,this.rendererData.width,this.rendererData.height)};b.render=function(){var a=this.getRendererData(),b=a.getWidth(),c=a.getHeight();drillEditor.DrawingUtils.drawStrictSizeRectangle(this.outlineShape.graphics,0,0,a.getWidth(),a.getHeight(),4,"#ffffff");this.widthRuler.update(b,14,Math.round(b*drillEditor.ApplicationModel.getInstance().mpp)+" m");this.heightRuler.update(c,
    14,Math.round(c*drillEditor.ApplicationModel.getInstance().mpp)+" m");this.heightRuler.y=c};b.getMinimalSize=function(){return new createjs.Point(c.MIN_WIDTH,c.MIN_HEIGH)};drillEditor.RectComponent=createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.MIN_WIDTH=75;c.MIN_HEIGHT=75;var b=createjs.extend(c,drillEditor.RectComponent);b.initialize=function(){this.RectComponent_initialize();console.log("SquareComponent.initialize()")};b.getMinimalSize=function(){return new createjs.Point(c.MIN_WIDTH,c.MIN_HEIGHT)};drillEditor.SquareComponent=createjs.promote(c,"RectComponent")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c){this.Container_constructor();this.componentWidth=a;this.componentHeight=b;this.text=c?c:"";this.initialize()}c.prototype.componentWidth;c.prototype.componentHeight;c.prototype.strokeShape;c.prototype.text;c.prototype.label;c.TEXT_COLOR="#FFFFFF";c.STROKE_COLOR="#FFFFFF";var b=createjs.extend(c,createjs.Container);b.initialize=function(){this.strokeShape=new createjs.Shape;this.addChild(this.strokeShape);this.label=new createjs.Text(this.text,"12px Arial",c.TEXT_COLOR);
    this.addChild(this.label);this.strokeMask=new createjs.Shape;this.componentWidth&&this.componentHeight&&this.render()};b.update=function(a,b,c){this.componentWidth=a;this.componentHeight=b;this.text=c?c:"";this.label.text=this.text;this.componentWidth&&this.componentHeight&&this.render()};b.render=function(){var a=this.componentWidth-10;this.strokeShape.graphics.clear();this.strokeShape.graphics.beginFill("rgba(0,255,0,0.01)");this.strokeShape.graphics.drawRect(0,0,this.componentWidth,this.componentHeight);
    this.strokeShape.graphics.beginFill(c.STROKE_COLOR);this.strokeShape.graphics.moveTo(0,this.componentHeight/2);this.strokeShape.graphics.lineTo(5,this.componentHeight/2-4);this.strokeShape.graphics.lineTo(5,this.componentHeight/2+4);this.strokeShape.graphics.lineTo(0,this.componentHeight/2);this.strokeShape.graphics.beginStroke(c.STROKE_COLOR);this.strokeShape.graphics.setStrokeStyle(1.25);this.strokeShape.graphics.setStrokeDash([5,2],0);this.strokeShape.graphics.moveTo(5,this.componentHeight/2);
    this.strokeShape.graphics.lineTo(5+a,this.componentHeight/2);this.strokeShape.graphics.endStroke();this.strokeShape.graphics.moveTo(5+a,this.componentHeight/2-4);this.strokeShape.graphics.lineTo(this.componentWidth,this.componentHeight/2);this.strokeShape.graphics.lineTo(this.componentWidth-5,this.componentHeight/2+4);this.strokeShape.graphics.lineTo(this.componentWidth-5,this.componentHeight/2-4);a=this.label.getBounds();this.text&&0<this.text.length?(this.label.x=this.componentWidth/2-a.width/2,
        this.label.y=this.componentHeight/2-a.height/2,this.strokeMask.graphics.clear(),this.strokeMask.graphics.beginFill("#000000"),this.strokeMask.graphics.drawRect(0,0,this.label.x-4,this.componentHeight),this.strokeMask.graphics.drawRect(this.label.x+a.width+4,0,this.componentWidth-(this.label.x+a.width+4),this.componentHeight),this.strokeShape.mask=this.strokeMask):this.strokeShape.mask=null};drillEditor.SizeHint=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.prototype.arcShape=null;c.prototype.arrowShape=null;c.prototype.container=null;c.prototype.opaqueBackground=null;c.prototype.arrowAnchorPoint=null;c.STD_WIDTH=60;c.STD_HEIGHT=24;c.STROKE_SIZE=3;c.STROKE_COLOR="#ffffff";var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.container=new createjs.Container;this.addChild(this.container);this.opaqueBackground=new createjs.Shape;
    this.opaqueBackground.graphics.beginFill("rgba(255,0,0,0.01)");this.opaqueBackground.graphics.drawRect(-c.STD_WIDTH/2,-c.STD_HEIGHT/2,c.STD_WIDTH,c.STD_HEIGHT);this.container.addChild(this.opaqueBackground);this.arcShape=new createjs.Shape;this.container.addChild(this.arcShape);this.startPoint=new createjs.Point(c.STD_WIDTH/2,c.STD_HEIGHT/2);this.endPoint=new createjs.Point(-c.STD_WIDTH/2,c.STD_HEIGHT/2);this.cp1=new createjs.Point(this.startPoint.x-10,-c.STD_HEIGHT/2-6);this.cp2=new createjs.Point(this.endPoint.x+
        10,-c.STD_HEIGHT/2-6);this.arcShape.graphics.setStrokeStyle(c.STROKE_SIZE);this.arcShape.graphics.beginStroke(c.STROKE_COLOR);this.arcShape.graphics.moveTo(this.startPoint.x,this.startPoint.y);this.arcShape.graphics.bezierCurveTo(this.cp1.x,this.cp1.y,this.cp2.x,this.cp2.y,this.endPoint.x,this.endPoint.y);this.arrowShape=new createjs.Shape;this.arrowShape.graphics.beginFill("#ffffff").moveTo(-6,7).lineTo(1,0).lineTo(-6,-7);this.container.addChild(this.arrowShape);this.setBounds(-c.STD_WIDTH/2,-c.STD_HEIGHT/
        2,c.STD_WIDTH,c.STD_HEIGHT)};b.render=function(){var a=this.getRendererData();a.getWidth();a.getHeight();this.x=a.getPosition().x;this.y=a.getPosition().y;this.container.rotation=this.getRendererData().rotation;this.updateArrowPositionAndRotation()};b.getContentBounds=function(){var a=this.localToLocal(-c.STD_WIDTH/2,-c.STD_HEIGHT/2,this.parent);return new createjs.Rectangle(a.x,a.y,this.rendererData.width,this.rendererData.height)};b.graphicPropertyChangeHandler=function(a){switch(a.payload.name){case "arrowDirection":this.updateArrowPositionAndRotation()}};
    b.updateArrowPositionAndRotation=function(){this.arrowAnchorPoint="left"==this.rendererData.arrowDirection?this.endPoint:this.startPoint;var a=Math.atan2(this.arrowAnchorPoint.y-this.cp2.y,this.arrowAnchorPoint.x-this.cp2.x)/Math.PI*180+("left"==this.rendererData.arrowDirection?8:27);this.arrowShape.x=this.arrowAnchorPoint.x;this.arrowShape.y=this.arrowAnchorPoint.y;this.arrowShape.rotation=a};drillEditor.ArchedArrow=createjs.promote(c,"BaseComponentRenderer")})();
this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor();this.mouseChildren=!1}c.prototype.minimalSize;c.prototype.textField=null;c.CIRCLE_COMPONENT_MIN_RADIUS=20;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.outlineShape=new createjs.Shape;this.container.addChild(this.outlineShape);this.textField=new createjs.Text("","16px Arial","#ffffff");this.container.addChild(this.textField)};b.render=function(){switch(this.rendererData.type){case drillEditor.GraphicElementType.ATTACKER:case drillEditor.GraphicElementType.DEFENDER:case drillEditor.GraphicElementType.EXTRA_TEAM:case drillEditor.GraphicElementType.NEUTRAL_PLAYER:this.outlineShape.graphics.clear();
    this.outlineShape.graphics.beginFill(this.rendererData.fillColor);this.outlineShape.graphics.drawCircle(0,0,this.rendererData.getWidth()/2);this.minimalSize=new createjs.Point(2*c.CIRCLE_COMPONENT_MIN_RADIUS,2*c.CIRCLE_COMPONENT_MIN_RADIUS);if(this.rendererData.type==drillEditor.GraphicElementType.NEUTRAL_PLAYER){var a=new createjs.Shape;a.graphics.clear();a.graphics.beginFill("#ffffff");a.graphics.drawRect(0,0,16,2);a.graphics.drawRect(7,2,2,20);a.x=-8;a.y=-11;this.container.addChild(a)}break;case drillEditor.GraphicElementType.CONE:this.outlineShape.graphics.beginFill(this.rendererData.fillColor),
    this.outlineShape.graphics.moveTo(0,-this.rendererData.height/2),this.outlineShape.graphics.lineTo(this.rendererData.width/2,this.rendererData.height/2),this.outlineShape.graphics.lineTo(-this.rendererData.width/2,this.rendererData.height/2),this.outlineShape.graphics.lineTo(0,-this.rendererData.height/2)}this.outlineShape.setBounds(-this.rendererData.getWidth()/2,-this.rendererData.getHeight()/2,this.rendererData.getWidth(),this.rendererData.getHeight())};b.getContentBounds=function(){var a=this.localToLocal(this.outlineShape._bounds.x,
    this.outlineShape._bounds.y,this.parent);return new createjs.Rectangle(a.x,a.y,this.outlineShape._bounds.width,this.outlineShape._bounds.height)};b.getMinimalSize=function(){return this.minimalSize};b.graphicPropertyChangeHandler=function(a){switch(a.payload.name){case "playerNumber":this.textField.text=this.rendererData.playerNumber,a=this.textField.getBounds(),this.textField.x=-a.width/2,this.textField.y=-a.height/2}};drillEditor.PrimitiveShapeRenderer=createjs.promote(c,"BaseComponentRenderer")})();
this.drillEditor=this.drillEditor||{};
(function(){function c(b,a){this.Container_constructor();this.color=b;this.direction=a;this.initialize()}c.prototype.color=null;c.prototype.direction=null;c.prototype.curveShape=null;c.prototype.arrowShape=null;c.prototype.opaqueShape=null;c.STD_WIDTH=47;c.STD_HEIGHT=16;c.CURVE_Y=5;createjs.extend(c,createjs.Container).initialize=function(){this.opaqueShape=new createjs.Shape;this.opaqueShape.graphics.beginFill("rgba(255,255,255,1)").drawRect(0,0,c.STD_WIDTH,c.STD_HEIGHT);this.opaqueShape.alpha=.01;
    this.addChild(this.opaqueShape);this.curveShape=new createjs.Shape;this.curveShape.graphics.setStrokeStyle(3);this.curveShape.graphics.beginStroke(this.color);this.curveShape.graphics.moveTo(3,-4*Math.sin(75.36/180)+c.CURVE_Y);for(var b=3;b<c.STD_WIDTH;b++)this.curveShape.graphics.lineTo(b,-4*Math.sin(25.12*b/180)+c.CURVE_Y);this.curveShape.y=c.CURVE_Y;this.addChild(this.curveShape);this.arrowShape=new createjs.Shape;this.arrowShape.graphics.beginFill(this.color).moveTo(6,0).lineTo(6,14).lineTo(0,
        7).lineTo(6,0);this.addChild(this.arrowShape);b=new createjs.BlurFilter(1,1,3);this.curveShape.filters=[b];b=b.getBounds();this.curveShape.cache(-2+b.x,-2+b.y,4+c.STD_WIDTH,4+c.STD_HEIGHT);this.setBounds(0,0,c.STD_WIDTH,c.STD_HEIGHT)};drillEditor.DribblingLineSegment=createjs.promote(c,"Container")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor();this.demoShape=new createjs.Shape;this.container.addChild(this.demoShape);this.lineContainer=new createjs.Container;this.container.addChild(this.lineContainer);this.lineContainerMask=new createjs.Shape;this.lineContainer.mask=this.lineContainerMask}c.prototype.demoShape=null;c.prototype.lineContainer=null;c.prototype.lineContainerMask=null;c.INTERVAL=3;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.getBounds=function(){return new createjs.Rectangle(this._data.position.x,
    this._data.position.y,this._data.width,this._data.height)};b.initialize=function(){this.container=new createjs.Container;this.addChild(this.container);this.contentRegPoint="endPoint";this.mouseDownHandler=this.container.on("mousedown",function(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:this}));var b=this.container.localToLocal(a.localX,a.localY,this.parent);this.offset={x:this.container.x-a.stageX,y:this.container.y-
a.stageY,startPointOffsetX:b.x-this.rendererData.startPoint.x,startPointOffsetY:b.y-this.rendererData.startPoint.y,endPointOffsetX:b.x-this.rendererData.endPoint.x,endPointOffsetY:b.y-this.rendererData.endPoint.y}},this);this.pressMoveHandler=this.container.on("pressmove",function(a){var b=this.container.localToLocal(a.localX,a.localY,this.parent);this.container.x=a.stageX+this.offset.x;this.container.y=a.stageY+this.offset.y;this.rendererData.startPoint.x=b.x-this.offset.startPointOffsetX;this.rendererData.startPoint.y=
    b.y-this.offset.startPointOffsetY;this.rendererData.endPoint.x=b.x-this.offset.endPointOffsetX;this.rendererData.endPoint.y=b.y-this.offset.endPointOffsetY;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_MOVE))},this)};b.destroy=function(){this.BaseComponentRenderer_destroy();this.off("mousedown",this.mouseDownHandler);this.off("pressmove",this.pressMoveHandler)};b.render=function(){if(0==this.lineContainer.numChildren){for(var a=0,b=0;30>b;b++){var l=new drillEditor.DribblingLineSegment("#FFFFFF");
    l.x=a;this.lineContainer.addChild(l);a+=drillEditor.DribblingLineSegment.STD_WIDTH+c.INTERVAL}this.lineContainer.setBounds(0,0,30*drillEditor.DribblingLineSegment.STD_WIDTH+29*c.INTERVAL,drillEditor.DribblingLineSegment.STD_HEIGHT)}this.rendererData.arrowDirection==drillEditor.ArrowDirection.LEFT?(this.lineContainer.scaleX=1,this.lineContainer.x=0):this.rendererData.arrowDirection==drillEditor.ArrowDirection.RIGHT&&(this.lineContainer.scaleX=-1,this.lineContainer.x=this.rendererData.lineWidth);this.demoShape.graphics.clear();
    this.demoShape.graphics.beginFill("rgba(0,255,0,0.01)");this.demoShape.graphics.drawRect(0,0,this.rendererData.lineWidth,drillEditor.DribblingLineSegment.STD_HEIGHT);this.lineContainerMask.graphics.clear();this.lineContainerMask.graphics.beginFill("#000000").drawRect(0,0,this.rendererData.lineWidth,drillEditor.DribblingLineSegment.STD_HEIGHT);a="endPoint"==this.contentRegPoint?this.rendererData.endPoint:this.rendererData.startPoint;this.container.x=a.x;this.container.y=a.y;this.container.regY=drillEditor.DribblingLineSegment.STD_HEIGHT/
        2;this.container.regX="endPoint"==this.contentRegPoint?this.rendererData.lineWidth:0;this.container.rotation=this.rendererData.angle;this.container.setBounds(0,0,this.rendererData.lineWidth,drillEditor.DribblingLineSegment.STD_HEIGHT)};b.getContentBounds=function(){this.container.getBounds();return new createjs.Rectangle(0,0,this.container._bounds.width,this.container._bounds.height)};b.getPointsInStageCS=function(){return{startPoint:this.localToGlobal(this.rendererData.startPoint.x,this.rendererData.startPoint.y),
    endPoint:this.localToGlobal(this.rendererData.endPoint.x,this.rendererData.endPoint.y)}};b.getMinimalSize=function(){return new createjs.Point(drillEditor.DribblingLineSegment.STD_WIDTH,drillEditor.DribblingLineSegment.STD_HEIGHT)};b.graphicPropertyChangeHandler=function(a){switch(a.payload.name){case "startPoint":this.contentRegPoint="endPoint";this.render();break;case "endPoint":this.contentRegPoint="startPoint";this.render();break;case "arrowDirection":this.render()}};b.isInteractiveLine=!0;drillEditor.DribblingLine=
    createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor();this.demoShape=new createjs.Shape;this.container.addChild(this.demoShape);this.lineContainer=new createjs.Container;this.container.addChild(this.lineContainer);this.lineContainerMask=new createjs.Shape;this.lineContainer.mask=this.lineContainerMask}c.prototype.demoShape=null;c.prototype.lineContainer=null;c.prototype.lineContainerMask=null;c.INTERVAL=3;c.STD_HEIGHT=16;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.getBounds=
    function(){return new createjs.Rectangle(this._data.position.x,this._data.position.y,this._data.width,this._data.height)};b.initialize=function(){this.container=new createjs.Container;this.addChild(this.container);this.contentRegPoint="endPoint";this.mouseDownHandler=this.container.on("mousedown",function(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:this}));var b=this.container.localToLocal(a.localX,a.localY,
    this.parent);this.offset={x:this.container.x-a.stageX,y:this.container.y-a.stageY,startPointOffsetX:b.x-this.rendererData.startPoint.x,startPointOffsetY:b.y-this.rendererData.startPoint.y,endPointOffsetX:b.x-this.rendererData.endPoint.x,endPointOffsetY:b.y-this.rendererData.endPoint.y}},this);this.pressMoveHandler=this.container.on("pressmove",function(a){var b=this.container.localToLocal(a.localX,a.localY,this.parent);this.container.x=a.stageX+this.offset.x;this.container.y=a.stageY+this.offset.y;
    this._data.position.setValues(this.container.x,this.container.y);this.rendererData.startPoint.x=b.x-this.offset.startPointOffsetX;this.rendererData.startPoint.y=b.y-this.offset.startPointOffsetY;this.rendererData.endPoint.x=b.x-this.offset.endPointOffsetX;this.rendererData.endPoint.y=b.y-this.offset.endPointOffsetY;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_MOVE))},this)};b.destroy=function(){this.BaseComponentRenderer_destroy();this.off("mousedown",this.mouseDownHandler);
    this.off("pressmove",this.pressMoveHandler)};b.render=function(){if(0==this.lineContainer.numChildren){var a=new createjs.Shape;a.graphics.beginFill("#FFFFFF").moveTo(6,0).lineTo(6,14).lineTo(0,7).lineTo(6,0);a.graphics.drawRect(5,5.5,1280,3);this.lineContainer.addChild(a);this.lineContainer.setBounds(0,0,1006,c.STD_HEIGHT)}this.rendererData.arrowDirection==drillEditor.ArrowDirection.LEFT?(this.lineContainer.scaleX=1,this.lineContainer.x=0):this.rendererData.arrowDirection==drillEditor.ArrowDirection.RIGHT&&
(this.lineContainer.scaleX=-1,this.lineContainer.x=this.rendererData.lineWidth);this.demoShape.graphics.clear();this.demoShape.graphics.beginFill("rgba(0,255,0,0.01)");this.demoShape.graphics.drawRect(0,0,this.rendererData.lineWidth,c.STD_HEIGHT);this.lineContainerMask.graphics.clear();this.lineContainerMask.graphics.beginFill("#000000").drawRect(0,0,this.rendererData.lineWidth,c.STD_HEIGHT);a="endPoint"==this.contentRegPoint?this.rendererData.endPoint:this.rendererData.startPoint;this.container.x=
    a.x;this.container.y=a.y;this.container.regY=c.STD_HEIGHT/2;this.container.regX="endPoint"==this.contentRegPoint?this.rendererData.lineWidth:0;this.container.rotation=this.rendererData.angle;this.container.setBounds(0,0,this.rendererData.lineWidth,c.STD_HEIGHT)};b.getContentBounds=function(){this.container.getBounds();return new createjs.Rectangle(0,0,this.container._bounds.width,this.container._bounds.height)};b.getPointsInStageCS=function(){return{startPoint:this.localToGlobal(this.rendererData.startPoint.x,
    this.rendererData.startPoint.y),endPoint:this.localToGlobal(this.rendererData.endPoint.x,this.rendererData.endPoint.y)}};b.getMinimalSize=function(){return new createjs.Point(drillEditor.DribblingLineSegment.STD_WIDTH,c.STD_HEIGHT)};b.graphicPropertyChangeHandler=function(a){switch(a.payload.name){case "startPoint":this.contentRegPoint="endPoint";this.render();break;case "endPoint":this.contentRegPoint="startPoint";this.render();break;case "arrowDirection":this.render()}};b.isInteractiveLine=!0;drillEditor.PlayerMovementLine=
    createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor();this.demoShape=new createjs.Shape;this.container.addChild(this.demoShape);this.lineContainer=new createjs.Container;this.container.addChild(this.lineContainer);this.lineContainerMask=new createjs.Shape;this.lineContainer.mask=this.lineContainerMask}c.prototype.demoShape=null;c.prototype.lineContainer=null;c.prototype.lineContainerMask=null;c.INTERVAL=3;c.STD_HEIGHT=16;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.getBounds=
    function(){return new createjs.Rectangle(this._data.position.x,this._data.position.y,this._data.width,this._data.height)};b.destroy=function(){this.BaseComponentRenderer_destroy();this.off("mousedown",this.mouseDownHandler);this.off("pressmove",this.pressMoveHandler)};b.initialize=function(){this.container=new createjs.Container;this.addChild(this.container);this.contentRegPoint="endPoint";this.mouseDownHandler=this.container.on("mousedown",function(a){drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,
    {data:this}));var b=this.container.localToLocal(a.localX,a.localY,this.parent);this.offset={x:this.container.x-a.stageX,y:this.container.y-a.stageY,startPointOffsetX:b.x-this.rendererData.startPoint.x,startPointOffsetY:b.y-this.rendererData.startPoint.y,endPointOffsetX:b.x-this.rendererData.endPoint.x,endPointOffsetY:b.y-this.rendererData.endPoint.y}},this);this.pressMoveHandler=this.container.on("pressmove",function(a){var b=this.container.localToLocal(a.localX,a.localY,this.parent);this.container.x=
    a.stageX+this.offset.x;this.container.y=a.stageY+this.offset.y;this._data.position.setValues(this.container.x,this.container.y);this.rendererData.startPoint.x=b.x-this.offset.startPointOffsetX;this.rendererData.startPoint.y=b.y-this.offset.startPointOffsetY;this.rendererData.endPoint.x=b.x-this.offset.endPointOffsetX;this.rendererData.endPoint.y=b.y-this.offset.endPointOffsetY;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_MOVE))},this)};b.render=function(){if(0==
    this.lineContainer.numChildren){var a=new createjs.Shape;a.graphics.beginFill("#FFFFFF").moveTo(6,0).lineTo(6,14).lineTo(0,7).lineTo(6,0);var b=new createjs.Shape;b.graphics.beginStroke("#FFFFFF");b.graphics.setStrokeStyle(3);b.graphics.setStrokeDash([5,2],0);b.graphics.moveTo(5,7).lineTo(1E3,7);this.lineContainer.addChild(a);this.lineContainer.addChild(b);this.lineContainer.setBounds(0,0,1006,c.STD_HEIGHT)}this.rendererData.arrowDirection==drillEditor.ArrowDirection.LEFT?(this.lineContainer.scaleX=
    1,this.lineContainer.x=0):this.rendererData.arrowDirection==drillEditor.ArrowDirection.RIGHT&&(this.lineContainer.scaleX=-1,this.lineContainer.x=this.rendererData.lineWidth);this.demoShape.graphics.clear();this.demoShape.graphics.beginFill("rgba(0,255,0,0.01)");this.demoShape.graphics.drawRect(0,0,this.rendererData.lineWidth,c.STD_HEIGHT);this.lineContainerMask.graphics.clear();this.lineContainerMask.graphics.beginFill("#000000").drawRect(0,0,this.rendererData.lineWidth,c.STD_HEIGHT);a="endPoint"==
this.contentRegPoint?this.rendererData.endPoint:this.rendererData.startPoint;this.container.x=a.x;this.container.y=a.y;this.container.regY=c.STD_HEIGHT/2;this.container.regX="endPoint"==this.contentRegPoint?this.rendererData.lineWidth:0;this.container.rotation=this.rendererData.angle;this.container.setBounds(0,0,this.rendererData.lineWidth,c.STD_HEIGHT)};b.getContentBounds=function(){this.container.getBounds();return new createjs.Rectangle(0,0,this.container._bounds.width,this.container._bounds.height)};
    b.getPointsInStageCS=function(){return{startPoint:this.localToGlobal(this.rendererData.startPoint.x,this.rendererData.startPoint.y),endPoint:this.localToGlobal(this.rendererData.endPoint.x,this.rendererData.endPoint.y)}};b.getMinimalSize=function(){return new createjs.Point(drillEditor.DribblingLineSegment.STD_WIDTH,c.STD_HEIGHT)};b.isInteractiveLine=!0;b.graphicPropertyChangeHandler=function(a){switch(a.payload.name){case "startPoint":this.contentRegPoint="endPoint";this.render();break;case "endPoint":this.contentRegPoint=
        "startPoint";this.render();break;case "arrowDirection":this.render()}};drillEditor.BallMovementLine=createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.prototype.ballIcon=null;c.STD_WIDTH=32;c.STD_HEIGHT=32;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.container=new createjs.Container;this.addChild(this.container);this.ballIcon=new createjs.Bitmap(drillEditor.DrillEditorApplication.loadQueue.getResult("soccer-ball-icon"));this.container.addChild(this.ballIcon)};b.render=function(){};b.getContentBounds=
    function(){var a=this.localToLocal(0,0,this.parent);return new createjs.Rectangle(a.x,a.y,this.rendererData.width,this.rendererData.height)};drillEditor.BallComponent=createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.prototype.ballIcon=null;c.STD_WIDTH=78;c.STD_HEIGHT=26;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.container=new createjs.Container;this.addChild(this.container);this.ballIcon=new createjs.Bitmap(drillEditor.DrillEditorApplication.loadQueue.getResult("ball-supply-icon"));this.container.addChild(this.ballIcon)};b.getContentBounds=function(){var a=this.localToLocal(0,
    0,this.parent);return new createjs.Rectangle(a.x,a.y,this.rendererData.width,this.rendererData.height)};drillEditor.BallSupplyComponent=createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){this.BaseComponentRenderer_constructor()}c.STD_WIDTH=65;c.STD_HEIGHT=47;var b=createjs.extend(c,drillEditor.BaseComponentRenderer);b.initialize=function(){this.BaseComponentRenderer_initialize();this.container=new createjs.Container;this.addChild(this.container);this.goalIcon=new createjs.Bitmap(drillEditor.DrillEditorApplication.loadQueue.getResult("goal-component-icon"));this.goalIcon.x=-c.STD_WIDTH/2;this.goalIcon.y=-c.STD_HEIGHT/2;this.container.addChild(this.goalIcon);
    this.opaqueBackground=new createjs.Shape;this.opaqueBackground.graphics.beginFill("rgba(255,0,0,0.01)");this.opaqueBackground.graphics.drawRect(-c.STD_WIDTH/2,-c.STD_HEIGHT/2,c.STD_WIDTH,c.STD_HEIGHT);this.container.addChild(this.opaqueBackground);this.setBounds(-c.STD_WIDTH/2,-c.STD_HEIGHT/2,c.STD_WIDTH,c.STD_HEIGHT)};b.render=function(){this.container.rotation=this.rendererData.rotation};b.getContentBounds=function(){var a=this.localToLocal(-c.STD_WIDTH/2,-c.STD_HEIGHT/2,this.parent);return new createjs.Rectangle(a.x,
    a.y,this.rendererData.width,this.rendererData.height)};drillEditor.Goal=createjs.promote(c,"BaseComponentRenderer")})();this.drillEditor=this.drillEditor||{};(function(){function c(b){this.id=b;this.elements=[]}c.prototype.id=null;c.prototype.pitchWidth;c.prototype.pitchHeight;c.prototype.elements;c.DEFAULT_ID="0000";c.prototype.setPitchDimensions=function(b,a){this.pitchWidth=b;this.pitchHeight=a};drillEditor.Presentation=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c){this.EventDispatcher_constructor();this.id=void 0!=a&&null!=a?a:"";this.type=void 0!=b&&null!=b?b:0;this.position=void 0!=c&&null!=c?c:null}var b=createjs.extend(c,createjs.EventDispatcher);b.setSelected=function(a){this.selected!=a&&(a?drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:this})):drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_DESELECTED,
    {data:this})),this.selected=a)};b.setPosition=function(a){this.position=a;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_POSITION_CHANGED))};b.getPosition=function(){return this.position};b.setWidth=function(a){this.width!=a&&(this.width=a)};b.getWidth=function(){return this.width};b.setHeight=function(a){this.height!=a&&(this.height=a)};b.getHeight=function(){return this.height};b.resize=function(a,b){this.width=a;this.height=b;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_RESIZE))};
    b.setRotation=function(a,b){this.rotation=a;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_ROTATION_CHANGED))};b.getDTO=function(){};drillEditor.GraphicItemVO=createjs.promote(c,"EventDispatcher")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.RECTANGLE,a);this.setWidth(c);this.setHeight(l)}createjs.extend(c,drillEditor.GraphicItemVO);drillEditor.RectVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.RECTANGLE=1;c.SQUARE=2;c.ATTACKER=3;c.DEFENDER=4;c.EXTRA_TEAM=5;c.NEUTRAL_PLAYER=6;c.CONE=7;c.DRIBBLING_PLAYER=8;c.PLAYER_MOVEMENT=9;c.BALL_MOVEMENT=10;c.BALL=11;c.BALLS_SUPPLY=12;c.ARCUATE_MOVEMENT=13;c.GOAL=14;drillEditor.GraphicElementType=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.SQUARE,a);this.setWidth(c);this.setHeight(l)}createjs.extend(c,drillEditor.GraphicItemVO);drillEditor.SquareVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c){this.GraphicItemVO_constructor(a,drillEditor.GraphicElementType.ATTACKER,b);this.setWidth(2*c);this.setHeight(2*c);this.radius=c}c.prototype.radius;c.prototype.playerNumber;var b=createjs.extend(c,drillEditor.GraphicItemVO);b.setPlayerNumber=function(a){this.playerNumber=a;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"playerNumber"}))};b.isPlayer=!0;drillEditor.AttackerVO=createjs.promote(c,"GraphicItemVO")})();
this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c){this.GraphicItemVO_constructor(a,drillEditor.GraphicElementType.DEFENDER,b);this.setWidth(2*c);this.setHeight(2*c);this.radius=c}c.prototype.radius;c.prototype.playerNumber;var b=createjs.extend(c,drillEditor.GraphicItemVO);b.setPlayerNumber=function(a){this.playerNumber=a;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"playerNumber"}))};b.isPlayer=!0;drillEditor.DefenderVO=createjs.promote(c,"GraphicItemVO")})();
this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c){this.GraphicItemVO_constructor(a,drillEditor.GraphicElementType.EXTRA_TEAM,b);this.setWidth(2*c);this.setHeight(2*c);this.radius=c}c.prototype.radius;c.playerNumber;var b=createjs.extend(c,drillEditor.GraphicItemVO);b.setPlayerNumber=function(a){this.playerNumber=a;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"playerNumber"}))};b.isPlayer=!0;drillEditor.ExtraTeamVO=createjs.promote(c,"GraphicItemVO")})();
this.drillEditor=this.drillEditor||{};(function(){function c(b,a,c){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.NEUTRAL_PLAYER,a);this.setWidth(2*c);this.setHeight(2*c);this.radius=c}c.prototype.radius;createjs.extend(c,drillEditor.GraphicItemVO).isPlayer=!0;drillEditor.NeutralVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.CONE,a);this.setWidth(c);this.setHeight(l)}createjs.extend(c,drillEditor.GraphicItemVO).isEquipment=!0;drillEditor.ConeVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(a,b,c,e,d,f){this.arrowDirection=d==drillEditor.ArrowDirection.RIGHT||d==drillEditor.ArrowDirection.LEFT?d:drillEditor.ArrowDirection.LEFT;this.rotation=f;this.setWidth(c);this.setHeight(e);this.GraphicItemVO_constructor(a,drillEditor.GraphicElementType.ARCUATE_MOVEMENT,b)}c.prototype.arrowDirection;c.prototype.startPointPosition=null;c.prototype.endPointPosition=null;c.STROKE_SIZE=2;c.STROKE_COLOR="#000000";var b=createjs.extend(c,drillEditor.GraphicItemVO);b.isActivity=!0;
    b.invertArrowDirection=function(){this.arrowDirection="left"==this.arrowDirection?"right":"left";this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"arrowDirection"}))};drillEditor.ArchedArrowVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(c,e,d,f){this.GraphicItemVO_constructor(c,drillEditor.GraphicElementType.DRIBBLING_PLAYER,new createjs.Point(0,0));this.startPoint=e;this.endPoint=d;this.arrowDirection=f==drillEditor.ArrowDirection.LEFT||f==drillEditor.ArrowDirection.RIGHT?f:drillEditor.ArrowDirection.LEFT;b.call(this);a.call(this)}function b(){this.lineWidth=drillEditor.MathUtils.getDistanceBetween2Points(this.startPoint,this.endPoint)}function a(){this.rotation=this.angle=drillEditor.MathUtils.getAngleBetween2Points(this.startPoint,
    this.endPoint)}c.prototype.startPoint=null;c.prototype.endPoint=null;c.prototype.lineWidth=null;c.prototype.angle=null;c.prototype.arrowDirection=null;var g=createjs.extend(c,drillEditor.GraphicItemVO);g.isActivity=!0;g.setStartPoint=function(c){this.startPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"startPoint"}))};g.setEndPoint=function(c){this.endPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,
    {name:"endPoint"}))};g.invertArrowDirection=function(){this.arrowDirection=this.arrowDirection==drillEditor.ArrowDirection.RIGHT?drillEditor.ArrowDirection.LEFT:drillEditor.ArrowDirection.RIGHT;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"arrowDirection"}))};drillEditor.DribblingLineVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(c,e,d,f){this.GraphicItemVO_constructor(c,drillEditor.GraphicElementType.PLAYER_MOVEMENT,new createjs.Point(0,0));this.startPoint=e;this.endPoint=d;this.arrowDirection=f==drillEditor.ArrowDirection.LEFT||f==drillEditor.ArrowDirection.RIGHT?f:drillEditor.ArrowDirection.LEFT;b.call(this);a.call(this)}function b(){this.lineWidth=drillEditor.MathUtils.getDistanceBetween2Points(this.startPoint,this.endPoint)}function a(){this.rotation=this.angle=drillEditor.MathUtils.getAngleBetween2Points(this.startPoint,
    this.endPoint)}c.prototype.startPoint=null;c.prototype.endPoint=null;c.prototype.lineWidth=null;c.prototype.angle=null;c.prototype.arrowDirection=null;var g=createjs.extend(c,drillEditor.GraphicItemVO);g.setStartPoint=function(c){this.startPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"startPoint"}))};g.setEndPoint=function(c){this.endPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,
    {name:"endPoint"}))};g.invertArrowDirection=function(){this.arrowDirection=this.arrowDirection==drillEditor.ArrowDirection.RIGHT?drillEditor.ArrowDirection.LEFT:drillEditor.ArrowDirection.RIGHT;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"arrowDirection"}))};g.isActivity=!0;drillEditor.PlayerMovementVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(c,e,d,f){this.GraphicItemVO_constructor(c,drillEditor.GraphicElementType.BALL_MOVEMENT,new createjs.Point(0,0));this.startPoint=e;this.endPoint=d;this.arrowDirection=f==drillEditor.ArrowDirection.LEFT||f==drillEditor.ArrowDirection.RIGHT?f:drillEditor.ArrowDirection.LEFT;b.call(this);a.call(this)}function b(){this.lineWidth=drillEditor.MathUtils.getDistanceBetween2Points(this.startPoint,this.endPoint)}function a(){this.rotation=this.angle=drillEditor.MathUtils.getAngleBetween2Points(this.startPoint,
    this.endPoint)}c.prototype.startPoint=null;c.prototype.endPoint=null;c.prototype.lineWidth=null;c.prototype.angle=null;c.prototype.arrowDirection=null;var g=createjs.extend(c,drillEditor.GraphicItemVO);g.isActivity=!0;g.setStartPoint=function(c){this.startPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"startPoint"}))};g.setEndPoint=function(c){this.endPoint=c;b.call(this);a.call(this);this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,
    {name:"endPoint"}))};g.invertArrowDirection=function(){this.arrowDirection=this.arrowDirection==drillEditor.ArrowDirection.RIGHT?drillEditor.ArrowDirection.LEFT:drillEditor.ArrowDirection.RIGHT;this.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.GRAPHIC_PROPERTY_CHANGED,{name:"arrowDirection"}))};drillEditor.BallMovementVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.BALL,a);this.height=this.width=c.STD_WIDTH}c.STD_WIDTH=32;c.STD_HEIGHT=32;createjs.extend(c,drillEditor.GraphicItemVO).isEquipment=!0;drillEditor.BallVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a){this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.BALLS_SUPPLY,a);this.width=c.STD_WIDTH;this.height=c.STD_HEIGHT}c.STD_WIDTH=78;c.STD_HEIGHT=26;createjs.extend(c,drillEditor.GraphicItemVO).isEquipment=!0;drillEditor.BallSupplyVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};
(function(){function c(b,a,c,l,e){this.rotation=e;this.setWidth(c);this.setHeight(l);this.GraphicItemVO_constructor(b,drillEditor.GraphicElementType.GOAL,a)}createjs.extend(c,drillEditor.GraphicItemVO).isEquipment=!0;drillEditor.GoalVO=createjs.promote(c,"GraphicItemVO")})();this.drillEditor=this.drillEditor||{};(function(){function c(){}c.RIGHT="right";c.LEFT="left";drillEditor.ArrowDirection=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){if(c.instance)throw Error("Only one instance of Dispatcher is allowed");}c.instance=null;c.getInstance=function(){c.instance||(c.instance=new c);return c.instance};createjs.extend(c,createjs.EventDispatcher);drillEditor.Dispatcher=createjs.promote(c,"EventDispatcher")})();this.drillEditor=this.drillEditor||{};
(function(){function c(){if(c.instance)throw Error("Only one instance of ApplicationModel is allowed");}c.prototype.serviceLocator;c.prototype.platformInfo;c.prototype.assetsLoaded;c.prototype.mpp;c.prototype.appMode;c.VERSION="0.1.8";c.debugVersion=!1;c.instance=null;c.APP_WIDTH=800;c.APP_HEIGHT=600;c.DEFAULT_PITCH_WIDTH_METERS=105;c.DEFAULT_PITCH_HEIGHT_METERS=68;c.EDIT_DRILL_APP_MODE="edit_drill_app_mode";c.NEW_DRILL_APP_MODE="new_drill_app_mode";c.getInstance=function(){c.instance||(c.instance=
    new c);return c.instance};drillEditor.ApplicationModel=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){if(c.instance)throw Error("Only one instance of PresentationController is allowed!");this.dispatcher=drillEditor.Dispatcher.getInstance();this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_RECTANGLE_CLICK,f,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_SQUARE_CLICK,h,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_ATTACKER_CLICK,k,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_DEFENDER_CLICK,m,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_EXTRA_TEAM_CLICK,
    n,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_NEUTRAL_PLAYER_CLICK,p,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_CONE_CLICK,r,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_PLAYER_PATH_CLICK,q,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_BALL_PATH_CLICK,t,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_BALL_CLICK,v,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_BALLS_SUPPLY_CLICK,
    x,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_ARC_CLICK,B,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_DRIBBLING_CLICK,L,this);this.dispatcher.on(drillEditor.PresentationViewEvent.CREATE_GOAL_CLICK,I,this);this.dispatcher.on(drillEditor.PresentationViewEvent.COPY_ELEMENT_BUTTON_CLICK,w,this);this.dispatcher.on(drillEditor.PresentationViewEvent.PASTE_ELEMENT_BUTTON_CLICK,G,this);this.dispatcher.on(drillEditor.PresentationViewEvent.BACK_BUTTON_CLICK,A,this);
    this.dispatcher.on(drillEditor.ApplicationEvent.ELEMENT_SELECTED,d,this);this.dispatcher.on(drillEditor.PresentationViewEvent.DELETE_ELEMENT,e,this);this.dispatcher.on(drillEditor.PresentationViewEvent.SWAP_DIRECTIONS_BUTTON_CLICK,l,this);this.dispatcher.on(drillEditor.ApplicationEvent.PITCH_VIEW_CREATED,g,this)}function b(a,b){return new createjs.Point(this.presentationView.componentWidth/2-a/2,this.presentationView.componentHeight/2-b/2)}function a(a,b){var c;switch(a.type){case drillEditor.GraphicElementType.RECTANGLE:c=
    new drillEditor.RectComponent;break;case drillEditor.GraphicElementType.SQUARE:c=new drillEditor.SquareComponent;break;case drillEditor.GraphicElementType.ATTACKER:case drillEditor.GraphicElementType.DEFENDER:case drillEditor.GraphicElementType.EXTRA_TEAM:case drillEditor.GraphicElementType.NEUTRAL_PLAYER:case drillEditor.GraphicElementType.CONE:c=new drillEditor.PrimitiveShapeRenderer;break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:c=new drillEditor.DribblingLine;break;case drillEditor.GraphicElementType.PLAYER_MOVEMENT:c=
    new drillEditor.PlayerMovementLine;break;case drillEditor.GraphicElementType.BALL_MOVEMENT:c=new drillEditor.BallMovementLine;break;case drillEditor.GraphicElementType.BALL:c=new drillEditor.BallComponent;break;case drillEditor.GraphicElementType.BALLS_SUPPLY:c=new drillEditor.BallSupplyComponent;break;case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:c=new drillEditor.ArchedArrow;break;case drillEditor.GraphicElementType.GOAL:c=new drillEditor.Goal}c.setRendererData(a);c.x=a.position.x;c.y=a.position.y;
    b?(this.presentationView.elementsLayer.addChild(c),a.depth=this.presentationView.elementsLayer.numChildren-1,drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:c})),this.presentation.elements.push(a)):this.presentationView.elementsLayer.addChildAt(c,Math.min(a.depth,this.presentationView.elementsLayer.numChildren));this.actualizePlayerNumbers();this.presentationView.elementsLayer.addChild(this.transformTool)}function g(b){for(b=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0;b<this.presentation.elements.length;b++)a.call(this,this.presentation.elements[b],!1)}function l(a){this.selectedElement&&this.selectedElement.rendererData.invertArrowDirection()}function e(a){if(this.selectedElement){this.selectedElement.destroy();this.selectedElement.stage&&(this.presentationView.elementsLayer.removeChild(this.selectedElement),a=this.presentation.elements.indexOf(this.selectedElement.rendererData),this.presentation.elements.splice(a,1));for(a=0;a<this.presentationView.elementsLayer.numChildren;a++)this.presentationView.elementsLayer.getChildAt(a).rendererData.depth=
    a;this.actualizePlayerNumbers();this.selectedElement=null;drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:null}))}}function d(a){this.selectedElement=a.payload.data}function f(c){c=createjs.UID.get();var d=b.call(this,200,100);c=new drillEditor.RectVO(c,d,200,100);a.call(this,c,!0)}function h(c){c=createjs.UID.get();var d=b.call(this,150,150);c=new drillEditor.SquareVO(c,d,150,150);a.call(this,c,!0)}function k(c){c=
    drillEditor.PrimitiveShapeRenderer.CIRCLE_COMPONENT_MIN_RADIUS;var d=createjs.UID.get(),e=b.call(this,2*c,2*c);c=new drillEditor.AttackerVO(d,e,c);c.fillColor="#382CBF";a.call(this,c,!0)}function m(c){c=createjs.UID.get();var d=b.call(this,40,40);c=new drillEditor.DefenderVO(c,d,20);c.fillColor="#F21818";a.call(this,c,!0)}function n(c){c=createjs.UID.get();var d=b.call(this,40,40);c=new drillEditor.ExtraTeamVO(c,d,20);c.fillColor="#373060";a.call(this,c,!0)}function p(c){c=createjs.UID.get();var d=
    b.call(this,40,40);c=new drillEditor.NeutralVO(c,d,20);c.fillColor="#085429";a.call(this,c,!0)}function r(c){c=createjs.UID.get();var d=b.call(this,30,35);c=new drillEditor.ConeVO(c,d,30,35);c.fillColor="#FFEA04";a.call(this,c,!0)}function q(c){c=createjs.UID.get();var d=b.call(this,150,drillEditor.PlayerMovementLine.STD_HEIGHT);d.y+=drillEditor.PlayerMovementLine.STD_HEIGHT/2;var e=new createjs.Point(d.x,d.y),d=new createjs.Point(d.x+150,d.y);c=new drillEditor.PlayerMovementVO(c,e,d,drillEditor.ArrowDirection.LEFT);
    a.call(this,c,!0)}function t(c){c=createjs.UID.get();var d=b.call(this,150,drillEditor.BallMovementLine.STD_HEIGHT);d.y+=drillEditor.BallMovementLine.STD_HEIGHT/2;var e=new createjs.Point(d.x,d.y),d=new createjs.Point(d.x+150,d.y);c=new drillEditor.BallMovementVO(c,e,d,drillEditor.ArrowDirection.LEFT);a.call(this,c,!0)}function v(c){c=createjs.UID.get();var d=b.call(this,drillEditor.BallComponent.STD_WIDTH,drillEditor.BallComponent.STD_HEIGHT);c=new drillEditor.BallVO(c,d);a.call(this,c,!0)}function x(c){c=
    createjs.UID.get();var d=b.call(this,drillEditor.BallSupplyComponent.STD_WIDTH,drillEditor.BallSupplyComponent.STD_HEIGHT);c=new drillEditor.BallSupplyVO(c,d);a.call(this,c,!0)}function B(c){c=drillEditor.ArrowDirection.LEFT;var d=createjs.UID.get(),e=drillEditor.ArchedArrow.STD_WIDTH,f=drillEditor.ArchedArrow.STD_HEIGHT,g=b.call(this,drillEditor.ArchedArrow.STD_WIDTH/2,drillEditor.ArchedArrow.STD_HEIGHT/2);c=new drillEditor.ArchedArrowVO(d,g,e,f,c,0);a.call(this,c,!0)}function L(c){c=createjs.UID.get();
    var d=3*drillEditor.DribblingLineSegment.STD_WIDTH,e=b.call(this,d,drillEditor.DribblingLineSegment.STD_HEIGHT);e.y+=drillEditor.DribblingLineSegment.STD_HEIGHT/2;var f=new createjs.Point(e.x,e.y),d=new createjs.Point(e.x+d,e.y);c=new drillEditor.DribblingLineVO(c,f,d,drillEditor.ArrowDirection.LEFT);a.call(this,c,!0)}function I(c){c=createjs.UID.get();var d=drillEditor.Goal.STD_WIDTH,e=drillEditor.Goal.STD_HEIGHT,f=b.call(this,d,e);c=new drillEditor.GoalVO(c,f,d,e,0);a.call(this,c,!0)}function w(a){a=
    this.cloneElementData(this.selectedElement.rendererData);drillEditor.Clipboard.data=a;this.dispatcher.dispatchEvent(new drillEditor.PresentationViewEvent(drillEditor.PresentationViewEvent.ELEMENT_COPIED_TO_CLIPBOARD,{data:a}))}function G(b){drillEditor.Clipboard.data&&(b=this.cloneElementData(drillEditor.Clipboard.data),a.call(this,b,!0))}function A(a){this.setView(null);this.dispatcher.dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.SHOW_SCREEN,{screenId:drillEditor.AppScreen.MAIN_MENU}))}
    c.prototype.presentation=null;c.prototype.presentationView=null;c.prototype.dispatcher=null;c.prototype.selectedElement=null;c.prototype.componentsPallete=null;c.instance=null;c.prototype.setView=function(a){this.presentationView=a};c.prototype.createEmptyPresentation=function(){this.presentation=new drillEditor.Presentation(drillEditor.Presentation.DEFAULT_ID)};c.prototype.loadPresentation=function(a){this.presentation=drillEditor.DTOUtils.presentationDTOToVO(a);this.selectedElement=null};c.prototype.getPresentationDTO=
        function(){if(!this.presentation)return null;var a=document.getElementById("appCanvas"),b=null;this.presentationView&&(drillEditor.Dispatcher.getInstance().dispatchEvent(new drillEditor.ApplicationEvent(drillEditor.ApplicationEvent.ELEMENT_SELECTED,{data:null})),window.stage.update(),b=drillEditor.CanvasUtils.getCanvasSegmentData(a,this.presentationView.x,this.presentationView.y,this.presentationView.componentWidth,this.presentationView.componentHeight),a=b.indexOf("data:image/png;base64,"),0<=a&&
        (b=b.substr(a+22)));a=drillEditor.DTOUtils.presentationToDTO(this.presentation);a.drillImageData=b;a.drillImageFormat=b?"data:image/png;base64,":null;return a};c.prototype.cloneElementData=function(a){var b,c=createjs.UID.get(),d=a.width,e=a.height,f=new createjs.Point(a.position.x,a.position.y);f.x+=10;f.y+=10;var g=a.rotation;switch(a.type){case drillEditor.GraphicElementType.RECTANGLE:b=new drillEditor.RectVO(c,f,d,e);break;case drillEditor.GraphicElementType.SQUARE:b=new drillEditor.SquareVO(c,
        f,d,e);break;case drillEditor.GraphicElementType.ATTACKER:b=new drillEditor.AttackerVO(c,f,a.radius);b.fillColor=a.fillColor;break;case drillEditor.GraphicElementType.DEFENDER:b=new drillEditor.DefenderVO(c,f,a.radius);b.fillColor=a.fillColor;break;case drillEditor.GraphicElementType.EXTRA_TEAM:b=new drillEditor.ExtraTeamVO(c,f,a.radius);b.fillColor=a.fillColor;break;case drillEditor.GraphicElementType.NEUTRAL_PLAYER:b=new drillEditor.NeutralVO(c,f,a.radius);b.fillColor=a.fillColor;break;case drillEditor.GraphicElementType.CONE:b=
        new drillEditor.ConeVO(c,f,d,e);b.fillColor=a.fillColor;break;case drillEditor.GraphicElementType.ARCUATE_MOVEMENT:b=new drillEditor.ArchedArrowVO(c,f,d,e,a.arrowDirection,g);break;case drillEditor.GraphicElementType.GOAL:b=new drillEditor.GoalVO(c,f,d,e,g);break;case drillEditor.GraphicElementType.DRIBBLING_PLAYER:b=new createjs.Point(a.startPoint.x+16,a.startPoint.y+16);d=new createjs.Point(a.endPoint.x+16,a.endPoint.y+16);b=new drillEditor.DribblingLineVO(c,b,d,a.arrowDirection);break;case drillEditor.GraphicElementType.PLAYER_MOVEMENT:b=
        new createjs.Point(a.startPoint.x+16,a.startPoint.y+16);d=new createjs.Point(a.endPoint.x+16,a.endPoint.y+16);b=new drillEditor.PlayerMovementVO(c,b,d,a.arrowDirection);break;case drillEditor.GraphicElementType.BALL_MOVEMENT:b=new createjs.Point(a.startPoint.x+16,a.startPoint.y+16);d=new createjs.Point(a.endPoint.x+16,a.endPoint.y+16);b=new drillEditor.BallMovementVO(c,b,d,a.arrowDirection);break;case drillEditor.GraphicElementType.BALL:b=new drillEditor.BallVO(c,f);break;case drillEditor.GraphicElementType.BALLS_SUPPLY:b=
        new drillEditor.BallSupplyVO(c,f)}return b};c.prototype.actualizePlayerNumbers=function(){this.presentation.elements.sort(drillEditor.MathUtils.compareNumeric);for(var a=0,b=0,c=0,d=0;d<this.presentation.elements.length;d++){var e=this.presentation.elements[d];switch(e.type){case drillEditor.GraphicElementType.ATTACKER:a+=1;e.setPlayerNumber(a);break;case drillEditor.GraphicElementType.DEFENDER:b+=1;e.setPlayerNumber(b);break;case drillEditor.GraphicElementType.EXTRA_TEAM:c+=1,e.setPlayerNumber(c)}}};
    c.getInstance=function(){null==c.instance&&(c.instance=new c);return c.instance};c.createEmptyPresentation=function(){var a=new drillEditor.Presentation("000000");console.log("Created a new presentation with id= 000000");return a};drillEditor.PresentationController=c})();this.drillEditor=this.drillEditor||{};
(function(){function c(){}c.drillStartupData=null;c.getDrillByIdCallback=null;c.getSavedDrillsCallback=null;c.getDrillDataCallback=null;c.getEditedDrillData=function(){var b;c.getDrillDataCallback&&(b=c.getDrillDataCallback());return b};c.getDrillDataById=function(b,a,g,l){c.getDrillByIdCallback&&c.getDrillByIdCallback(b,a,g,l)};c.getSavedDrills=function(b,a,g){c.getSavedDrillsCallback&&c.getSavedDrillsCallback(b,a,g)};drillEditor.DrillEditorProxy=c})();